var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return null==t?"":t}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.data!==e&&(t.data=e)}let y;function $(t){y=t}function w(t){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(t)}const v=[],b=[],x=[],_=[],E=Promise.resolve();let k=!1;function C(){k||(k=!0,E.then(T))}function S(t){x.push(t)}function T(){const t=new Set;do{for(;v.length;){const t=v.shift();$(t),q(t.$$)}for(;b.length;)b.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];t.has(n)||(n(),t.add(n))}x.length=0}while(v.length);for(;_.length;)_.pop()();k=!1}function q(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const M=new Set;let A;function j(){A={r:0,c:[],p:A}}function D(){A.r||o(A.c),A=A.p}function L(t,e){t&&t.i&&(M.delete(t),t.i(e))}function O(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),A.c.push(()=>{M.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function P(t,e){O(t,1,1,()=>{e.delete(t.key)})}function R(t,n,l){const{fragment:c,on_mount:i,on_destroy:u,after_update:s}=t.$$;c&&c.m(n,l),S(()=>{const n=i.map(e).filter(r);u?u.push(...n):o(n),t.$$.on_mount=[]}),s.forEach(S)}function W(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(e,r,l,c,i,u,s=[-1]){const a=y;$(e);const f=r.props||{},d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:s};let p=!1;d.ctx=l?l(e,f,(t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),p&&function(t,e){-1===t.$$.dirty[0]&&(v.push(t),C(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],d.update(),p=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),r.target&&(r.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):d.fragment&&d.fragment.c(),r.intro&&L(e.$$.fragment),R(e,r.target,r.anchor),T()),$(a)}class U{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function I(e){let n,o,r,l,c,f,y,$,w,v,b,x=e[0][0].slice(2,e[0][0].length).replace(/-/gi," ")+"",_=e[0][1]+"";return{c(){n=a("label"),o=a("span"),r=d(x),l=p(),c=a("input"),$=p(),w=a("span"),v=d(_),h(o,"class","label svelte-1dx2fb8"),h(c,"type",f=e[0][0].includes("color")?"color":"text"),c.value=y=e[0][1],h(w,"class","value svelte-1dx2fb8"),h(n,"class","control svelte-1dx2fb8")},m(t,s){u(t,n,s),i(n,o),i(o,r),i(n,l),i(n,c),i(n,$),i(n,w),i(w,v),b=m(c,"input",e[1])},p(t,[e]){1&e&&x!==(x=t[0][0].slice(2,t[0][0].length).replace(/-/gi," ")+"")&&g(r,x),1&e&&f!==(f=t[0][0].includes("color")?"color":"text")&&h(c,"type",f),1&e&&y!==(y=t[0][1])&&c.value!==y&&(c.value=y),1&e&&_!==(_=t[0][1]+"")&&g(v,_)},i:t,o:t,d(t){t&&s(n),b()}}}function N(t,e,n){let{style:o=["placeholder","undefined"]}=e;return t.$set=t=>{"style"in t&&n(0,o=t.style)},[o,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)}]}class B extends U{constructor(t){super(),H(this,t,N,I,l,{style:0})}}function F(t,e,n){const o=t.slice();return o[16]=e[n],o[18]=n,o}function V(t,e,n){const o=t.slice();return o[19]=e[n],o[21]=n,o}function z(t){let e,n,o=[],r=new Map,l=t[2];const c=t=>"style-control_"+t[21];for(let e=0;e<l.length;e+=1){let n=V(t,l,e),i=c(n);r.set(i,o[e]=G(i,n))}return{c(){e=a("section");for(let t=0;t<o.length;t+=1)o[t].c();h(e,"class","control_group svelte-t833uq")},m(t,r){u(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){const l=t[2];j(),o=function(t,e,n,o,r,l,c,i,u,s,a,f){let d=t.length,p=l.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const g=[],y=new Map,$=new Map;for(m=p;m--;){const t=f(r,l,m),i=n(t);let u=c.get(i);u?o&&u.p(t,e):(u=s(i,t),u.c()),y.set(i,g[m]=u),i in h&&$.set(i,Math.abs(m-h[i]))}const w=new Set,v=new Set;function b(t){L(t,1),t.m(i,a),c.set(t.key,t),a=t.first,p--}for(;d&&p;){const e=g[p-1],n=t[d-1],o=e.key,r=n.key;e===n?(a=e.first,d--,p--):y.has(r)?!c.has(o)||w.has(o)?b(e):v.has(r)?d--:$.get(o)>$.get(r)?(v.add(o),b(e)):(w.add(r),d--):(u(n,c),d--)}for(;d--;){const e=t[d];y.has(e.key)||u(e,c)}for(;p;)b(g[p-1]);return g}(o,n,c,1,t,l,r,e,P,G,null,V),D()},i(t){if(!n){for(let t=0;t<l.length;t+=1)L(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)O(o[t]);n=!1},d(t){t&&s(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function G(t,e){let n,o;const r=new B({props:{style:e[19]}});return r.$on("input",(function(...t){return e[13](e[21],...t)})),{key:t,first:null,c(){var t;n=d(""),(t=r.$$.fragment)&&t.c(),this.first=n},m(t,e){u(t,n,e),R(r,t,e),o=!0},p(t,n){e=t;const o={};4&n&&(o.style=e[19]),r.$set(o)},i(t){o||(L(r.$$.fragment,t),o=!0)},o(t){O(r.$$.fragment,t),o=!1},d(t){t&&s(n),W(r,t)}}}function J(t){let e,n,o,r,l,c,f,g,y,$,w=Y,v=[];for(let e=0;e<w.length;e+=1)v[e]=Q(F(t,w,e));return{c(){e=a("form"),n=a("label"),o=d("Enter a filename from within the local "),r=a("code"),r.textContent="/static/pages/",l=d(" directory.\r\n\t\t\t"),c=a("select"),f=a("option"),f.textContent="Pick a page";for(let t=0;t<v.length;t+=1)v[t].c();g=p(),y=a("button"),y.textContent="Submit",f.__value="",f.value=f.__value,h(c,"name","url"),h(y,"type","submit"),h(e,"class","page-picker"),h(e,"action",""),h(e,"method","post")},m(s,a){u(s,e,a),i(e,n),i(n,o),i(n,r),i(n,l),i(n,c),i(c,f);for(let t=0;t<v.length;t+=1)v[t].m(c,null);i(e,g),i(e,y),$=m(e,"submit",t[5])},p(t,e){if(0&e){let n;for(w=Y,n=0;n<w.length;n+=1){const o=F(t,w,n);v[n]?v[n].p(o,e):(v[n]=Q(o),v[n].c(),v[n].m(c,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=w.length}},d(t){t&&s(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(v,t),$()}}}function K(e){let n;return{c(){n=a("iframe"),n.innerHTML="<p>Sorry, your iframe isn&#39;t loading!</p>",h(n,"title","page-preview"),h(n,"width","100%"),h(n,"height","100%"),n.allowFullscreen=!0},m(t,o){u(t,n,o),e[15](n)},p:t,d(t){t&&s(n),e[15](null)}}}function Q(e){let n,o,r,l=e[16]+"";return{c(){n=a("option"),o=d(l),n.__value=r=e[16],n.value=n.__value},m(t,e){u(t,n,e),i(n,o)},p:t,d(t){t&&s(n)}}}function X(t){let e,n,o,r,l,y,$,w,v,b,x,_,E,k,C,S,T,q=t[3]?"Close":"Open",M=t[2]instanceof Array&&z(t);function A(t,e){return t[0]?K:J}let P=A(t),R=P(t);return{c(){e=a("main"),n=a("section"),o=a("h1"),o.textContent="Site Theming Tool",r=p(),M&&M.c(),y=p(),$=a("button"),w=f("svg"),v=f("path"),b=p(),x=a("span"),_=d(q),E=d(" Tool Bar"),C=p(),R.c(),h(o,"class","svelte-t833uq"),h(n,"class",l=c(`side-bar ${t[3]?"open":""}`)+" svelte-t833uq"),h(v,"d","M 1 2.5 l 8 0 M 7 1 l 2 1.5 l -2 1.5"),h(v,"class","svelte-t833uq"),h(w,"viewBox","0 0 10 5"),h(w,"class","svelte-t833uq"),h(x,"class","svelte-t833uq"),h($,"class",k=c(`side-bar_toggle ${t[3]?"open":""}`)+" svelte-t833uq"),h(e,"class","svelte-t833uq")},m(l,c){u(l,e,c),i(e,n),i(n,o),i(n,r),M&&M.m(n,null),i(e,y),i(e,$),i($,w),i(w,v),i($,b),i($,x),i(x,_),i(x,E),i(e,C),R.m(e,null),S=!0,T=m($,"click",t[14])},p(t,[o]){t[2]instanceof Array?M?(M.p(t,o),L(M,1)):(M=z(t),M.c(),L(M,1),M.m(n,null)):M&&(j(),O(M,1,1,()=>{M=null}),D()),(!S||8&o&&l!==(l=c(`side-bar ${t[3]?"open":""}`)+" svelte-t833uq"))&&h(n,"class",l),(!S||8&o)&&q!==(q=t[3]?"Close":"Open")&&g(_,q),(!S||8&o&&k!==(k=c(`side-bar_toggle ${t[3]?"open":""}`)+" svelte-t833uq"))&&h($,"class",k),P===(P=A(t))&&R?R.p(t,o):(R.d(1),R=P(t),R&&(R.c(),R.m(e,null)))},i(t){S||(L(M),S=!0)},o(t){O(M),S=!1},d(t){t&&s(e),M&&M.d(),R.d(),T()}}}let Y=["landing-page","blog-template"],Z=Array.from(new URL(document.location).searchParams.entries());function tt(t,e,n){let o,r,l=Z.find(t=>"url"===t[0]),c=!0,i=[],u=!0,s="";async function a(){if(!Z.find(t=>"url"===t[0]))return;n(1,o.src=Z.find(t=>"url"===t[0])?`./pages/${Z.find(t=>"url"===t[0])[1]}`:"",o);await(t=o,new Promise((e,n)=>{t.onload=()=>e(!0),t.onerror=n})).catch(t=>console.error(t));var t;n(2,r=function(t){return Array.from(t.contentDocument.styleSheets).filter(e=>null===e.href||e.href.startsWith(t.contentWindow.origin)).reduce((e,n)=>[...e,...Array.from(n.cssRules).reduce((e,n)=>"body"===n.selectorText||":root"===n.selectorText||"*"===n.selectorText?[...e,...Array.from(n.style).filter(t=>t.startsWith("--")).map(e=>[e,"body"===n.selectorText?t.contentWindow.getComputedStyle(t.contentDocument.body).getPropertyValue(e):t.contentWindow.getComputedStyle(t.contentDocument.documentElement).getPropertyValue(e)])]:e,[])],[])}(o).map(t=>(p.find(e=>e[0]===t[0])&&(t[1]=p.find(e=>e[0]===t[0])[1]),t))),c&&(c=!1,i=[...r.map(t=>[...t])])}function f(t,e){const o=r;if(n(2,r[e][1]=t.target.value,r),n(2,r=o),d(),s){const t=window.location.href.slice(0,window.location.href.indexOf("?")>=0?window.location.href.indexOf("?"):window.location.href.length)+s;window.history.replaceState(null,"",t)}}function d(){if(Z&&r){const t=r.filter((t,e)=>t[1]!==i[e][1]);s="?"+`${Z.find(t=>"url"===t[0])?"url="+Z.find(t=>"url"===t[0])[1]:""}${t?t.length>1?"&"+t.map(t=>encodeURIComponent(t[0])+"="+encodeURIComponent(t[1])).join("&"):"&"+encodeURIComponent(t[0][0])+"="+encodeURIComponent(t[0][1]):""}`}}w(a);let p;return t.$$.update=()=>{if(6&t.$$.dirty&&o&&o.contentDocument&&r){const t=o.contentDocument.documentElement.innerHTML.includes('style id="injected"');n(1,o.contentDocument.documentElement.innerHTML=t?o.contentDocument.documentElement.innerHTML.replace(/<style id="injected">(.|\t|\r|\n)*<\/head>/,`<style id='injected'>\n\t\t\tbody { ${r.map(t=>t[0]+": "+t[1]).join("; ")} }\n\t\t</style>\n\t\t</head>`):o.contentDocument.documentElement.innerHTML.replace("</head>",`<style id='injected'>\n\t\t\tbody { ${r.map(t=>t[0]+": "+t[1]).join("; ")} }\n\t\t</style>\n\t\t</head>`),o)}},p=Z.filter(t=>t[0].startsWith("--")),[l,o,r,u,f,async function(t){t.preventDefault();const e=t.target.querySelector("select"),o=e.value;let r=await fetch("./pages/"+o);if(r=404!==r.status,!r)return void(e.value="");const c=[...Z];c.push(["url",o]),Z=c,n(0,l=!0),await(C(),E),window.history.replaceState(null,"",window.location.href+"?url="+o),a()},c,i,s,p,"",a,d,(t,e)=>f(e,t),()=>n(3,u=!u),function(t){b[t?"unshift":"push"](()=>{n(1,o=t)})}]}return new class extends U{constructor(t){super(),H(this,t,tt,X,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
