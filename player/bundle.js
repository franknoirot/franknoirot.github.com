var app=function(){"use strict";function t(){}function r(t,r){for(const e in r)t[e]=r[e];return t}function e(t){return t()}function o(){return Object.create(null)}function n(t){t.forEach(e)}function c(t){return"function"==typeof t}function a(t,r){return t!=t?r==r:t!==r||t&&"object"==typeof t||"function"==typeof t}let i,l="undefined"!=typeof window?t=>requestAnimationFrame(t):t;function u(t,r){t.appendChild(r)}function s(t,r,e){t.insertBefore(r,e||null)}function d(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function m(){return f(" ")}function h(t,r,e,o){return t.addEventListener(r,e,o),()=>t.removeEventListener(r,e,o)}function g(t,r,e){null==e?t.removeAttribute(r):t.setAttribute(r,e)}function v(t,r){r=""+r,t.data!==r&&(t.data=r)}function y(t,r,e){t.style.setProperty(r,e)}function _(t){i=t}const k=[],$=[],b=[],T=[],S=Promise.resolve();let x=!1;function w(t){b.push(t)}function A(){const t=new Set;do{for(;k.length;){const t=k.shift();_(t),Y(t.$$)}for(;$.length;)$.pop()();for(let r=0;r<b.length;r+=1){const e=b[r];t.has(e)||(e(),t.add(e))}b.length=0}while(k.length);for(;T.length;)T.pop()();x=!1}function Y(t){t.fragment&&(t.update(t.dirty),n(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(w))}const q=new Set;let X;function P(t,r){t&&t.i&&(q.delete(t),t.i(r))}function R(t,r,e,o){if(t&&t.o){if(q.has(t))return;q.add(t),X.c.push(()=>{q.delete(t),o&&(e&&t.d(1),o())}),t.o(r)}}const j="undefined"!=typeof window?window:global;function L(t,r,o){const{fragment:a,on_mount:i,on_destroy:l,after_update:u}=t.$$;a.m(r,o),w(()=>{const r=i.map(e).filter(c);l?l.push(...r):n(r),t.$$.on_mount=[]}),u.forEach(w)}function M(t,r){t.$$.fragment&&(n(t.$$.on_destroy),t.$$.fragment.d(r),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function E(t,r){t.$$.dirty||(k.push(t),x||(x=!0,S.then(A)),t.$$.dirty=o()),t.$$.dirty[r]=!0}function C(r,e,c,a,l,u){const s=i;_(r);const d=e.props||{},p=r.$$={fragment:null,ctx:null,props:u,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:o(),dirty:null};let f=!1;var m;p.ctx=c?c(r,d,(t,e)=>{p.ctx&&l(p.ctx[t],p.ctx[t]=e)&&(p.bound[t]&&p.bound[t](e),f&&E(r,t))}):d,p.update(),f=!0,n(p.before_update),p.fragment=a(p.ctx),e.target&&(e.hydrate?p.fragment.l((m=e.target,Array.from(m.childNodes))):p.fragment.c(),e.intro&&P(r.$$.fragment),L(r,e.target,e.anchor),A()),_(s)}class H{$destroy(){M(this,1),this.$destroy=t}$on(t,r){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(r),()=>{const t=e.indexOf(r);-1!==t&&e.splice(t,1)}}$set(){}}function O(r){var e;return{c(){g(e=p("div"),"class","background svelte-jc8q1"),y(e,"--hi-1",r.color1),y(e,"--hi-2",r.color2)},m(t,r){s(t,e,r)},p(t,r){t.color1&&y(e,"--hi-1",r.color1),t.color2&&y(e,"--hi-2",r.color2)},i:t,o:t,d(t){t&&d(e)}}}function N(t,r,e){let{color1:o="plum",color2:n="powderblue"}=r;return t.$set=(t=>{"color1"in t&&e("color1",o=t.color1),"color2"in t&&e("color2",n=t.color2)}),{color1:o,color2:n}}class W extends H{constructor(t){super(),C(this,t,N,O,a,["color1","color2"])}}function z(r){var e,o,c,a,i,_,k,$,b,T,S,x,A,Y,q,X,P,R,j,L,M,E,C,H,O,N,W,z,F,I,D,G,U,J,K,Q,V=!1,Z=!0,tt=r.paused?"Play":"Pause",rt=B(r.currentTime),et=B(r.duration);function ot(){cancelAnimationFrame(_),o.paused||(_=l(ot)),V=!0,r.audio_timeupdate_handler.call(o)}return{c(){e=p("div"),o=p("audio"),c=f("Your browser does not support the\n\t\t"),(a=p("code")).textContent="audio",i=f(" element."),$=m(),b=p("img"),T=m(),S=p("div"),x=p("h3"),A=f(r.title),Y=m(),q=p("p"),X=f(r.artist),P=m(),R=p("div"),(j=p("button")).innerHTML='<small class="svelte-1qf3u1o">30s</small>&lt;',L=m(),M=p("button"),E=f(tt),C=m(),(H=p("button")).innerHTML='&gt;<small class="svelte-1qf3u1o">30s</small>',O=m(),N=p("div"),W=p("div"),z=p("input"),F=m(),I=p("div"),D=p("span"),G=f(rt),U=m(),J=p("span"),K=f(et),void 0===r.duration&&w(()=>r.audio_durationchange_handler.call(o)),g(o,"src",r.audioSrc),g(o,"class","svelte-1qf3u1o"),g(b,"class","img-dot svelte-1qf3u1o"),g(b,"src",r.imgSrc),g(b,"alt",r.imgAlt),g(x,"class","svelte-1qf3u1o"),g(q,"class","svelte-1qf3u1o"),g(S,"class","track-info svelte-1qf3u1o"),g(j,"class","previous svelte-1qf3u1o"),g(M,"class","play svelte-1qf3u1o"),g(H,"class","next svelte-1qf3u1o"),g(R,"class","controls svelte-1qf3u1o"),g(z,"type","range"),g(z,"min","0"),g(z,"max",r.duration),g(z,"class","svelte-1qf3u1o"),g(W,"class","progress-bar svelte-1qf3u1o"),g(W,"aria-label","audio progress bar control"),y(W,"--prog-width",r.currentTime/r.duration*100+"%"),g(I,"class","times svelte-1qf3u1o"),g(N,"class","timeline svelte-1qf3u1o"),g(e,"class","player svelte-1qf3u1o"),y(e,"--parallax-x","calc("+r.currX+" * var(--maxRot))"),y(e,"--parallax-y","calc("+r.currY+" * -1 * var(--maxRot))"),y(e,"--hi-1",r.color1),y(e,"--hi-2",r.color2),Q=[h(o,"timeupdate",ot),h(o,"durationchange",r.audio_durationchange_handler),h(o,"play",r.audio_play_pause_handler),h(o,"pause",r.audio_play_pause_handler),h(j,"click",r.click_handler),h(M,"click",r.click_handler_1),h(H,"click",r.click_handler_2),h(z,"change",r.input_change_input_handler),h(z,"input",r.input_change_input_handler)]},m(t,n){s(t,e,n),u(e,o),u(o,c),u(o,a),u(o,i),k=r.mountAudio.call(null,o,r.audioSrc)||{},u(e,$),u(e,b),u(e,T),u(e,S),u(S,x),u(x,A),u(S,Y),u(S,q),u(q,X),u(e,P),u(e,R),u(R,j),u(R,L),u(R,M),u(M,E),u(R,C),u(R,H),u(e,O),u(e,N),u(N,W),u(W,z),z.value=r.currentTime,u(N,F),u(N,I),u(I,D),u(D,G),u(I,U),u(I,J),u(J,K)},p(t,r){V||!t.currentTime||isNaN(r.currentTime)||(o.currentTime=r.currentTime),t.paused&&Z!==(Z=r.paused)&&o[Z?"pause":"play"](),V=!1,t.audioSrc&&g(o,"src",r.audioSrc),"function"==typeof k.update&&t.audioSrc&&k.update.call(null,r.audioSrc),t.imgSrc&&g(b,"src",r.imgSrc),t.imgAlt&&g(b,"alt",r.imgAlt),t.title&&v(A,r.title),t.artist&&v(X,r.artist),t.paused&&tt!==(tt=r.paused?"Play":"Pause")&&v(E,tt),t.currentTime&&(z.value=r.currentTime),t.duration&&g(z,"max",r.duration),(t.currentTime||t.duration)&&y(W,"--prog-width",r.currentTime/r.duration*100+"%"),t.currentTime&&rt!==(rt=B(r.currentTime))&&v(G,rt),t.duration&&et!==(et=B(r.duration))&&v(K,et),t.currX&&y(e,"--parallax-x","calc("+r.currX+" * var(--maxRot))"),t.currY&&y(e,"--parallax-y","calc("+r.currY+" * -1 * var(--maxRot))"),t.color1&&y(e,"--hi-1",r.color1),t.color2&&y(e,"--hi-2",r.color2)},i:t,o:t,d(t){t&&d(e),k&&"function"==typeof k.destroy&&k.destroy(),n(Q)}}}function B(t){return`${Math.floor(t/60).toString().padStart(2,"0")||"00"}:${Math.floor(t%60).toString().padStart(2,"0")||"00"}`}function F(t,r,e){let o=!0,n=0,c=0,{title:a="unknown",artist:i="unknown",imgSrc:l="",imgAlt:u="",audioSrc:s="",currX:d=0,currY:p=0,color1:f="plum",color2:m="powderblue"}=r;return t.$set=(t=>{"title"in t&&e("title",a=t.title),"artist"in t&&e("artist",i=t.artist),"imgSrc"in t&&e("imgSrc",l=t.imgSrc),"imgAlt"in t&&e("imgAlt",u=t.imgAlt),"audioSrc"in t&&e("audioSrc",s=t.audioSrc),"currX"in t&&e("currX",d=t.currX),"currY"in t&&e("currY",p=t.currY),"color1"in t&&e("color1",f=t.color1),"color2"in t&&e("color2",m=t.color2)}),{paused:o,duration:n,currentTime:c,title:a,artist:i,imgSrc:l,imgAlt:u,audioSrc:s,currX:d,currY:p,color1:f,color2:m,mountAudio:function(t,r){return{update(r){t.pause(),e("paused",o=!0)}}},audio_timeupdate_handler:function(){c=this.currentTime,e("currentTime",c)},audio_durationchange_handler:function(){n=this.duration,e("duration",n)},audio_play_pause_handler:function(){o=this.paused,e("paused",o)},click_handler:function(){const t=c-=30;return e("currentTime",c),t},click_handler_1:function(){const t=o=!o;return e("paused",o),t},click_handler_2:function(){const t=c+=30;return e("currentTime",c),t},input_change_input_handler:function(){var t;t=this.value,e("currentTime",c=""===t?void 0:+t)}}}class I extends H{constructor(t){super(),C(this,t,F,z,a,["title","artist","imgSrc","imgAlt","audioSrc","currX","currY","color1","color2"])}}const{document:D}=j;function G(t,r,e){const o=Object.create(t);return o.track=r[e],o.i=e,o}function U(t){var r,e,o,n,c,a,i=t.track.title,l=t.track.artist;function m(){return t.click_handler(t)}return{c(){r=p("tr"),e=p("td"),o=f(i),n=p("td"),c=f(l),g(e,"class","svelte-1k29bkr"),g(n,"class","svelte-1k29bkr"),g(r,"tabindex","0"),g(r,"class","svelte-1k29bkr"),a=h(r,"click",m)},m(t,a){s(t,r,a),u(r,e),u(e,o),u(r,n),u(n,c)},p(r,e){t=e},d(t){t&&d(r),a()}}}function J(t){var e,o,n,c,a,i,l,f,h,v,y;D.body.addEventListener("mousemove",t.mouseMoveParallax);var _=new W({props:{color1:t.playlist[t.currentTrack].color1,color2:t.playlist[t.currentTrack].color2}}),k=[t.playlist[t.currentTrack],{currX:t.currX},{currY:t.currY}];let $={};for(var b=0;b<k.length;b+=1)$=r($,k[b]);var T=new I({props:$}),S=t.playlist,x=[];for(b=0;b<S.length;b+=1)x[b]=U(G(t,S,b));return{c(){e=m(),_.$$.fragment.c(),o=m(),T.$$.fragment.c(),n=m(),c=p("div"),(a=p("h2")).textContent="Playlist",i=m(),l=p("table"),f=p("tbody"),(h=p("tr")).innerHTML='<th class="svelte-1k29bkr">Title</th><th class="svelte-1k29bkr">Artist</th>',v=m();for(var t=0;t<x.length;t+=1)x[t].c();g(h,"class","svelte-1k29bkr"),g(l,"class","svelte-1k29bkr"),g(c,"class","playlist-table svelte-1k29bkr")},m(t,r){s(t,e,r),L(_,t,r),s(t,o,r),L(T,t,r),s(t,n,r),s(t,c,r),u(c,a),u(c,i),u(c,l),u(l,f),u(f,h),u(f,v);for(var d=0;d<x.length;d+=1)x[d].m(f,null);y=!0},p(t,r){var e={};(t.playlist||t.currentTrack)&&(e.color1=r.playlist[r.currentTrack].color1),(t.playlist||t.currentTrack)&&(e.color2=r.playlist[r.currentTrack].color2),_.$set(e);var o=t.playlist||t.currentTrack||t.currX||t.currY?function(t,r){const e={},o={},n={$$scope:1};let c=t.length;for(;c--;){const a=t[c],i=r[c];if(i){for(const t in a)t in i||(o[t]=1);for(const t in i)n[t]||(e[t]=i[t],n[t]=1);t[c]=i}else for(const t in a)n[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}(k,[(t.playlist||t.currentTrack)&&r.playlist[r.currentTrack],t.currX&&{currX:r.currX},t.currY&&{currY:r.currY}]):{};if(T.$set(o),t.playlist){S=r.playlist;for(var n=0;n<S.length;n+=1){const e=G(r,S,n);x[n]?x[n].p(t,e):(x[n]=U(e),x[n].c(),x[n].m(f,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=S.length}},i(t){y||(P(_.$$.fragment,t),P(T.$$.fragment,t),y=!0)},o(t){R(_.$$.fragment,t),R(T.$$.fragment,t),y=!1},d(r){D.body.removeEventListener("mousemove",t.mouseMoveParallax),r&&d(e),M(_,r),r&&d(o),M(T,r),r&&(d(n),d(c)),function(t,r){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(r)}(x,r)}}}function K(t,r,e){let o,n,c=0,a=[{title:"Rep. Alexandria Ocasia Cortez on Abolishing DHS",artist:"WNYC",imgSrc:"https://media.wnyc.org/i/800/0/l/85/2019/07/RadioHour-AOC-4x3.jpg",imgAlt:"illustration of US Representative Alexandria Ocasia Ortez speaking",audioSrc:"https://www.podtrac.com/pts/redirect.mp3/audio.wnyc.org/tnyradiohour/tnyradiohour071219_webhour.mp3",color1:"orchid",color2:"lightskyblue"},{title:"Technical Writing With Rachel Andrew",artist:"Shop Talk Show",imgSrc:"https://pbs.twimg.com/profile_images/781380559947915265/wrjtv_jp.jpg",imgAlt:"Rachel Andrew in a leather jacket",audioSrc:"https://cdn.simplecast.com/audio/167887/167887a0-ac00-4cf9-bc69-b5ca845997db/1c1d3e4f-71dc-48a8-bd12-24a0460a08fd/shoptalkshow_371_tc.mp3",color1:"#444",color2:"orange"},{title:"Shopify: Tobias Lütke",artist:"How I Built This With Guy Raz",imgSrc:"https://avatars2.githubusercontent.com/u/347?s=400&v=4",imgAlt:"Tobias Lütke",audioSrc:"https://play.podtrac.com/npr-510313/ondemand.npr.org/anon.npr-mp3/npr/hibt/2019/08/20190802_hibt_shopify.mp3?orgId=1&d=4035&p=510313&story=747660923&t=podcast&e=747660923&siteplayer=true&size=64414407",color1:"rgb(214, 32, 33)",color2:"#237bbd"}],i=.5,l=.5;return t.$$.update=((t={playlist:1,currentTrack:1})=>{(t.playlist||t.currentTrack)&&(o=a[c].color1),(t.playlist||t.currentTrack)&&(n=a[c].color2)}),{currentTrack:c,playlist:a,currX:i,currY:l,mouseMoveParallax:function(t){e("currX",i=t.pageX/document.body.clientWidth*2-1),e("currY",l=t.pageY/document.body.clientHeight*2-1)},click_handler:function({i:t}){const r=c=t;return e("currentTrack",c),r}}}return new class extends H{constructor(t){super(),C(this,t,K,J,a,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
