var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function a(t){t.forEach(e)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function d(){return u(" ")}function f(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function k(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){(null!=e||t.value)&&(t.value=e)}let m;function g(t){m=t}function $(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.after_update.push(t)}const T=[],v=[],y=[],w=[],_=Promise.resolve();let b=!1;function z(t){y.push(t)}function x(t){w.push(t)}function S(){const t=new Set;do{for(;T.length;){const t=T.shift();g(t),M(t.$$)}for(;v.length;)v.pop()();for(let e=0;e<y.length;e+=1){const n=y[e];t.has(n)||(n(),t.add(n))}y.length=0}while(T.length);for(;w.length;)w.pop()();b=!1}function M(t){t.fragment&&(t.update(t.dirty),a(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(z))}const D=new Set;let E;function C(t,e){t&&t.i&&(D.delete(t),t.i(e))}function O(t,e){t.d(1),e.delete(t.key)}function F(t,e,n){-1!==t.$$.props.indexOf(e)&&(t.$$.bound[e]=n,n(t.$$.ctx[e]))}function H(t,n,o){const{fragment:r,on_mount:i,on_destroy:l,after_update:c}=t.$$;r.m(n,o),z(()=>{const n=i.map(e).filter(s);l?l.push(...n):a(n),t.$$.on_mount=[]}),c.forEach(z)}function L(t,e){t.$$.fragment&&(a(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function A(t,e){t.$$.dirty||(T.push(t),b||(b=!0,_.then(S)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function I(e,s,o,r,i,l){const c=m;g(e);const u=s.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:null};let f=!1;var k;d.ctx=o?o(e,u,(t,n,a=n)=>(d.ctx&&i(d.ctx[t],d.ctx[t]=a)&&(d.bound[t]&&d.bound[t](a),f&&A(e,t)),n)):u,d.update(),f=!0,a(d.before_update),d.fragment=r(d.ctx),s.target&&(s.hydrate?d.fragment.l((k=s.target,Array.from(k.childNodes))):d.fragment.c(),s.intro&&C(e.$$.fragment),H(e,s.target,s.anchor),S()),g(c)}class N{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function U(t,e,n){const a=Object.create(t);return a.task=e[n],a.i=n,a}function K(t,e){var n,a,s,o,h,m,g,$,T,v,y,w,_,b,z,x,S,M,D,E,C=e.task.client+"",O=e.task.task+"",F=e.formatTime(e.task.startTime)+"",H=e.formatTime(e.task.endTime)+"",L=e.calcDuration(e.task.startTime,e.task.endTime)+"";return{key:t,first:null,c(){n=c("tr"),a=c("td"),s=u(C),o=d(),h=c("td"),m=u(O),g=d(),$=c("td"),T=u(F),v=d(),y=c("td"),w=u(H),_=d(),b=c("td"),z=u(L),x=d(),S=c("button"),M=u("ðŸ—‘"),k(a,"class","svelte-1019zfa"),k(h,"class","svelte-1019zfa"),k($,"class","c svelte-1019zfa"),k(y,"class","c svelte-1019zfa"),k(b,"class","c svelte-1019zfa"),k(S,"class","btn_del svelte-1019zfa"),k(S,"data-id",D=e.i),k(n,"class","svelte-1019zfa"),E=f(S,"click",e.delTask),this.first=n},m(t,e){i(t,n,e),r(n,a),r(a,s),r(n,o),r(n,h),r(h,m),r(n,g),r(n,$),r($,T),r(n,v),r(n,y),r(y,w),r(n,_),r(n,b),r(b,z),r(n,x),r(n,S),r(S,M)},p(t,e){t.tasks&&C!==(C=e.task.client+"")&&p(s,C),t.tasks&&O!==(O=e.task.task+"")&&p(m,O),t.tasks&&F!==(F=e.formatTime(e.task.startTime)+"")&&p(T,F),t.tasks&&H!==(H=e.formatTime(e.task.endTime)+"")&&p(w,H),t.tasks&&L!==(L=e.calcDuration(e.task.startTime,e.task.endTime)+"")&&p(z,L),t.tasks&&D!==(D=e.i)&&k(S,"data-id",D)},d(t){t&&l(n),E()}}}function j(e){var n,s,o,u,p,m,g,$,T,v,y,w,_,b,z,x,S,M,D,E,F,H=[],L=new Map;let A=e.tasks;const I=t=>t.task.task+t.task.startTime;for(let t=0;t<A.length;t+=1){let n=U(e,A,t),a=I(n);L.set(a,H[t]=K(a,n))}return{c(){n=c("table"),s=c("tbody"),(o=c("tr")).innerHTML='<th class="l svelte-1019zfa">Client</th> <th class="l svelte-1019zfa">Task</th> <th class="svelte-1019zfa">Start</th> <th class="svelte-1019zfa">End</th> <th class="svelte-1019zfa">Duration</th>',u=d();for(let t=0;t<H.length;t+=1)H[t].c();p=d(),m=c("tr"),g=c("td"),$=c("input"),T=d(),v=c("td"),y=c("input"),w=d(),_=c("td"),b=c("input"),z=d(),x=c("td"),S=c("input"),M=d(),D=c("td"),(E=c("button")).textContent="Add Task",k(o,"class","svelte-1019zfa"),k($,"id","input_client"),k($,"type","text"),k($,"placeholder","Client, LLC"),k($,"class","svelte-1019zfa"),k(g,"class","svelte-1019zfa"),k(y,"class","input_task-name svelte-1019zfa"),k(y,"type","text"),k(y,"placeholder","Enter a new task"),k(v,"class","svelte-1019zfa"),k(b,"type","time"),k(b,"class","svelte-1019zfa"),k(_,"class","c svelte-1019zfa"),k(S,"type","time"),k(S,"class","svelte-1019zfa"),k(x,"class","c svelte-1019zfa"),k(E,"class","btn_add svelte-1019zfa"),k(D,"class","c svelte-1019zfa"),k(m,"class","svelte-1019zfa"),k(n,"class","svelte-1019zfa"),F=[f($,"input",e.input0_input_handler),f($,"keyup",e.handleFormKeyUp),f(y,"input",e.input1_input_handler),f(y,"keyup",e.handleFormKeyUp),f(b,"input",e.input2_input_handler),f(b,"keyup",e.handleFormKeyUp),f(S,"input",e.input3_input_handler),f(S,"keyup",e.handleFormKeyUp),f(E,"click",e.addTask)]},m(t,a){i(t,n,a),r(n,s),r(s,o),r(s,u);for(let t=0;t<H.length;t+=1)H[t].m(s,null);r(s,p),r(s,m),r(m,g),r(g,$),h($,e.newTask.client),r(m,T),r(m,v),r(v,y),h(y,e.newTask.task),r(m,w),r(m,_),r(_,b),h(b,e.newTask.startTime),r(m,z),r(m,x),r(x,S),h(S,e.newTask.endTime),r(m,M),r(m,D),r(D,E)},p(t,e){const n=e.tasks;H=function(t,e,n,a,s,o,r,i,l,c,u,d){let f=t.length,k=o.length,p=f;const h={};for(;p--;)h[t[p].key]=p;const m=[],g=new Map,$=new Map;for(p=k;p--;){const t=d(s,o,p),i=n(t);let l=r.get(i);l?a&&l.p(e,t):(l=c(i,t)).c(),g.set(i,m[p]=l),i in h&&$.set(i,Math.abs(p-h[i]))}const T=new Set,v=new Set;function y(t){C(t,1),t.m(i,u),r.set(t.key,t),u=t.first,k--}for(;f&&k;){const e=m[k-1],n=t[f-1],a=e.key,s=n.key;e===n?(u=e.first,f--,k--):g.has(s)?!r.has(a)||T.has(a)?y(e):v.has(s)?f--:$.get(a)>$.get(s)?(v.add(a),y(e)):(T.add(s),f--):(l(n,r),f--)}for(;f--;){const e=t[f];g.has(e.key)||l(e,r)}for(;k;)y(m[k-1]);return m}(H,t,I,1,e,n,L,s,O,K,p,U),t.newTask&&$.value!==e.newTask.client&&h($,e.newTask.client),t.newTask&&y.value!==e.newTask.task&&h(y,e.newTask.task),t.newTask&&h(b,e.newTask.startTime),t.newTask&&h(S,e.newTask.endTime)},i:t,o:t,d(t){t&&l(n);for(let t=0;t<H.length;t+=1)H[t].d();a(F)}}}function J(){let t=new Date(Date.now());return`${t.getHours()}:${t.getMinutes().toString().padStart(2,"0")}`}function B(t){let e=0,n=new Date(Date.now());return n.getMinutes()+15>60?(e=1,t=n.getMinutes()+15):(e=0,t=n.getMinutes()+15),`${n.getHours()+e}:${t.toString().padStart(2,"0")}`}function R(t,e){return new Date(t.getYear()+" "+t.getMonth()+" "+t.getDate()+" "+e)}function q(){return{client:"",task:"",startTime:J(),endTime:B(15)}}function G(t,e,n){let{date:a="",tasks:s=[]}=e,o=q();function r(){n("tasks",s=[...s,o]),n("newTask",o=q()),document.getElementById("input_client").focus()}return t.$set=(t=>{"date"in t&&n("date",a=t.date),"tasks"in t&&n("tasks",s=t.tasks)}),{date:a,tasks:s,newTask:o,formatTime:function(t){let e=R(a,t);return`${e.getHours()<=12?e.getHours():e.getHours()-12}:${e.getMinutes().toString().padStart(2,"0")} ${e.getHours()<12?"am":"pm"}`},calcDuration:function(t,e){let n=R(a,t),s=R(a,e)-n;return`${Math.floor(s/1e3/60/60)}h ${s/1e3/60%60}m`},addTask:r,handleFormKeyUp:function(t){"Enter"===t.key&&r()},delTask:function(t){let e=[...s],a=parseInt(t.target.dataset.id);n("tasks",s=[...e.slice(0,a),...e.slice(a+1)])},input0_input_handler:function(){o.client=this.value,n("newTask",o)},input1_input_handler:function(){o.task=this.value,n("newTask",o)},input2_input_handler:function(){o.startTime=this.value,n("newTask",o)},input3_input_handler:function(){o.endTime=this.value,n("newTask",o)}}}class P extends N{constructor(t){super(),I(this,t,G,j,o,["date","tasks"])}}function Y(t){var e,n,a,s,o,h,m,g,$,T,y,w,_,b=`${Q.getMonth()+1}/${Q.getDate()}`+"";function z(e){t.tasktable_date_binding.call(null,e),T=!0,x(()=>T=!1)}function S(e){t.tasktable_tasks_binding.call(null,e),y=!0,x(()=>y=!1)}let M={};void 0!==Q&&(M.date=Q),void 0!==W&&(M.tasks=W);var O=new P({props:M});return v.push(()=>F(O,"date",z)),v.push(()=>F(O,"tasks",S)),{c(){e=c("header"),(n=c("h1")).textContent="Task Tracker",a=d(),s=c("h2"),o=u(b),h=d(),(m=c("button")).textContent="Clear Tasks",g=d(),$=c("main"),O.$$.fragment.c(),k(s,"class","svelte-1tw29yv"),k(m,"class","svelte-1tw29yv"),k(e,"class","svelte-1tw29yv"),_=f(m,"click",X)},m(t,l){i(t,e,l),r(e,n),r(e,a),r(e,s),r(s,o),r(e,h),r(e,m),i(t,g,l),i(t,$,l),H(O,$,null),w=!0},p(t,e){w&&!t.date||b===(b=`${Q.getMonth()+1}/${Q.getDate()}`+"")||p(o,b);var n={};!T&&t.date&&(n.date=Q),!y&&t.tasks&&(n.tasks=W),O.$set(n)},i(t){w||(C(O.$$.fragment,t),w=!0)},o(t){!function(t,e,n,a){if(t&&t.o){if(D.has(t))return;D.add(t),E.c.push(()=>{D.delete(t),a&&(n&&t.d(1),a())}),t.o(e)}}(O.$$.fragment,t),w=!1},d(t){t&&(l(e),l(g),l($)),L(O),_()}}}let Q=new Date(Date.now()),V=`task-tracker-${Q.getMonth()+1}-${Q.getDate()}`,W=localStorage.getItem(V)?JSON.parse(localStorage.getItem(V)):[{client:"eko",task:"Make a spreadsheet",startTime:"13:04",endTime:"13:34"}];function X(){W=[]}function Z(t,e,n){return $(()=>{console.log(`I'm gonna store the following string in memory at ${V}:\n${JSON.stringify(W)}`),localStorage.setItem(V,JSON.stringify(W))}),{tasktable_date_binding:function(t){n("date",Q=t)},tasktable_tasks_binding:function(t){n("tasks",W=t)}}}W!=[]&&console.log("FETCHED SOME STUFF FROM LOCALSTORAGE!!!");return new class extends N{constructor(t){super(),I(this,t,Z,Y,o,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
