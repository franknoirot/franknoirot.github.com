var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function a(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function c(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function o(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function f(){return k(" ")}function h(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function $(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){(null!=e||t.value)&&(t.value=e)}let p;function g(t){p=t}const T=[],y=[],b=[],w=[],_=Promise.resolve();let S=!1;function x(t){b.push(t)}function D(){const t=new Set;do{for(;T.length;){const t=T.shift();g(t),C(t.$$)}for(;y.length;)y.pop()();for(let e=0;e<b.length;e+=1){const n=b[e];t.has(n)||(n(),t.add(n))}b.length=0}while(T.length);for(;w.length;)w.pop()();S=!1}function C(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(x))}const L=new Set;let M;function z(t,e){t&&t.i&&(L.delete(t),t.i(e))}function E(t,e,n,s){if(t&&t.o){if(L.has(t))return;L.add(t),M.c.push(()=>{L.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function O(t,e){t.d(1),e.delete(t.key)}function B(t,n,r){const{fragment:l,on_mount:c,on_destroy:i,after_update:o}=t.$$;l.m(n,r),x(()=>{const n=c.map(e).filter(a);i?i.push(...n):s(n),t.$$.on_mount=[]}),o.forEach(x)}function H(t,e){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function F(t,e){t.$$.dirty||(T.push(t),S||(S=!0,_.then(D)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function A(e,a,r,l,c,i){const o=p;g(e);const u=a.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:[]),callbacks:n(),dirty:null};let k=!1;var f;d.ctx=r?r(e,u,(t,n,s=n)=>(d.ctx&&c(d.ctx[t],d.ctx[t]=s)&&(d.bound[t]&&d.bound[t](s),k&&F(e,t)),n)):u,d.update(),k=!0,s(d.before_update),d.fragment=l(d.ctx),a.target&&(a.hydrate?d.fragment.l((f=a.target,Array.from(f.childNodes))):d.fragment.c(),a.intro&&z(e.$$.fragment),B(e,a.target,a.anchor),D()),g(o)}class j{$destroy(){H(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const K=[];function N(e,n=t){let s;const a=[];function l(t){if(r(e,t)&&(e=t,s)){const t=!K.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),K.push(n,e)}if(t){for(let t=0;t<K.length;t+=2)K[t][0](K[t+1]);K.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(r,c=t){const i=[r,c];return a.push(i),1===a.length&&(s=n(l)||t),r(e),()=>{const t=a.indexOf(i);-1!==t&&a.splice(t,1),0===a.length&&(s(),s=null)}}}}function U(e,n,r){const l=!Array.isArray(e),c=l?[e]:e,i=n.length<2;return{subscribe:N(r,e=>{let r=!1;const o=[];let u=0,d=t;const k=()=>{if(u)return;d();const s=n(l?o[0]:o,e);i?e(s):d=a(s)?s:t},f=c.map((t,e)=>t.subscribe(t=>{o[e]=t,u&=~(1<<e),r&&k()},()=>{u|=1<<e}));return r=!0,k(),function(){s(f),d()}}).subscribe}}function I(t){let e=new Date(Date.now()),n=e.getHours(),s=e.getMinutes();return t&&(n+=s+t>60?1:0,s=s+t>60?t%60:t+15),`${n}:${s.toString().padStart(2,"0")}`}function G(t,e){return new Date(t.getYear()+" "+t.getMonth()+" "+t.getDate()+" "+e)}function J(t,e){let n=G(t,e);return`${n.getHours()<=12?n.getHours():n.getHours()-12}:${n.getMinutes().toString().padStart(2,"0")} ${n.getHours()<12?"am":"pm"}`}function Y(t,e,n){let s=G(t,e),a=G(t,n)-s;return a>0?a:a+864e5}function q(t){return`${Math.floor(t/1e3/60/60)}h ${t/1e3/60%60}m`}const P=(t,e,n)=>q(Y(t,e,n)),W=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let Q=new Date(Date.now());const R=N(Q),V=U(R,t=>W[t.getDay()]),X=U(R,t=>`${t.getMonth()+1}/${t.getDate()}`),Z=U([V,X],([t,e])=>t+" "+e),tt=U(R,t=>`task-tracker-${t.getMonth()+1}-${t.getDate()}`),et={dateStr:tt,taskList:[{client:"eko",task:"Make a spreadsheet",startTime:"13:04",endTime:"13:34"}]},nt=t=>JSON.parse(localStorage.getItem(t))||et,st=N(nt(Q)),at=U(st,t=>t.taskList.reduce((t,e,n)=>{let s=t.map(t=>t.client.toLowerCase().trim()).indexOf(e.client.toLowerCase().trim());return s>=0?(t[s].tasks.push({task:e.task,startTime:e.startTime,endTime:e.endTime}),t):[...t,{client:e.client,tasks:[{task:e.task,startTime:e.startTime,endTime:e.endTime}]}]},[])),rt=U([R,at],([t,e])=>e.reduce((e,n)=>e+n.tasks.reduce((e,n)=>e+Y(t,n.startTime,n.endTime),0),0)),lt=U(rt,t=>q(t));function ct(t,e,n){const s=Object.create(t);return s.task=e[n],s.i=n,s}function it(t,e){var n,s,a,r,l,u,v,p,g,T,y,b,w,_,S,x,D,C,L,M,z=e.task.client+"",E=e.task.task+"",O=J(e.$date,e.task.startTime)+"",B=J(e.$date,e.task.endTime)+"",H=P(e.$date,e.task.startTime,e.task.endTime)+"";return{key:t,first:null,c(){n=d("tr"),s=d("td"),a=k(z),r=f(),l=d("td"),u=k(E),v=f(),p=d("td"),g=k(O),T=f(),y=d("td"),b=k(B),w=f(),_=d("td"),S=k(H),x=f(),D=d("button"),C=k("ðŸ—‘"),$(s,"class","svelte-622kvv"),$(l,"class","svelte-622kvv"),$(p,"class","c svelte-622kvv"),$(y,"class","c svelte-622kvv"),$(_,"class","c svelte-622kvv"),$(D,"class","btn_del svelte-622kvv"),$(D,"data-id",L=e.i),$(n,"class","svelte-622kvv"),M=h(D,"click",e.delTask),this.first=n},m(t,e){i(t,n,e),c(n,s),c(s,a),c(n,r),c(n,l),c(l,u),c(n,v),c(n,p),c(p,g),c(n,T),c(n,y),c(y,b),c(n,w),c(n,_),c(_,S),c(n,x),c(n,D),c(D,C)},p(t,e){t.$tasks&&z!==(z=e.task.client+"")&&m(a,z),t.$tasks&&E!==(E=e.task.task+"")&&m(u,E),(t.$date||t.$tasks)&&O!==(O=J(e.$date,e.task.startTime)+"")&&m(g,O),(t.$date||t.$tasks)&&B!==(B=J(e.$date,e.task.endTime)+"")&&m(b,B),(t.$date||t.$tasks)&&H!==(H=P(e.$date,e.task.startTime,e.task.endTime)+"")&&m(S,H),t.$tasks&&L!==(L=e.i)&&$(D,"data-id",L)},d(t){t&&o(n),M()}}}function ot(e){var n,a,r,l,u,k,m,p,g,T,y,b,w,_,S,x,D,C,L,M,E,B=[],H=new Map;let F=e.$tasks.taskList;const A=t=>t.task.task+t.task.startTime;for(let t=0;t<F.length;t+=1){let n=ct(e,F,t),s=A(n);H.set(s,B[t]=it(s,n))}return{c(){n=d("table"),a=d("tbody"),(r=d("tr")).innerHTML='<th class="l svelte-622kvv">Client</th> <th class="l svelte-622kvv">Task</th> <th class="svelte-622kvv">Start</th> <th class="svelte-622kvv">End</th> <th class="svelte-622kvv">Duration</th>',l=f();for(let t=0;t<B.length;t+=1)B[t].c();u=f(),k=d("tr"),m=d("td"),p=d("input"),g=f(),T=d("td"),y=d("input"),b=f(),w=d("td"),_=d("input"),S=f(),x=d("td"),D=d("input"),C=f(),L=d("td"),(M=d("button")).textContent="Add Task",$(p,"id","input_client"),$(p,"type","text"),$(p,"placeholder","Client, LLC"),$(p,"class","svelte-622kvv"),$(m,"class","svelte-622kvv"),$(y,"class","input_task-name svelte-622kvv"),$(y,"type","text"),$(y,"placeholder","Enter a new task"),$(T,"class","svelte-622kvv"),$(_,"type","time"),$(_,"class","svelte-622kvv"),$(w,"class","c svelte-622kvv"),$(D,"type","time"),$(D,"class","svelte-622kvv"),$(x,"class","c svelte-622kvv"),$(M,"class","btn_add svelte-622kvv"),$(L,"class","c svelte-622kvv"),$(k,"class","svelte-622kvv"),$(n,"class","svelte-622kvv"),E=[h(p,"input",e.input0_input_handler),h(p,"keyup",e.handleFormKeyUp),h(y,"input",e.input1_input_handler),h(y,"keyup",e.handleFormKeyUp),h(_,"input",e.input2_input_handler),h(_,"keyup",e.handleFormKeyUp),h(D,"input",e.input3_input_handler),h(D,"keyup",e.handleFormKeyUp),h(M,"click",e.addTask)]},m(t,s){i(t,n,s),c(n,a),c(a,r),c(a,l);for(let t=0;t<B.length;t+=1)B[t].m(a,null);c(a,u),c(a,k),c(k,m),c(m,p),v(p,e.newTask.client),c(k,g),c(k,T),c(T,y),v(y,e.newTask.task),c(k,b),c(k,w),c(w,_),v(_,e.newTask.startTime),c(k,S),c(k,x),c(x,D),v(D,e.newTask.endTime),c(k,C),c(k,L),c(L,M)},p(t,e){const n=e.$tasks.taskList;B=function(t,e,n,s,a,r,l,c,i,o,u,d){let k=t.length,f=r.length,h=k;const $={};for(;h--;)$[t[h].key]=h;const m=[],v=new Map,p=new Map;for(h=f;h--;){const t=d(a,r,h),c=n(t);let i=l.get(c);i?s&&i.p(e,t):(i=o(c,t)).c(),v.set(c,m[h]=i),c in $&&p.set(c,Math.abs(h-$[c]))}const g=new Set,T=new Set;function y(t){z(t,1),t.m(c,u),l.set(t.key,t),u=t.first,f--}for(;k&&f;){const e=m[f-1],n=t[k-1],s=e.key,a=n.key;e===n?(u=e.first,k--,f--):v.has(a)?!l.has(s)||g.has(s)?y(e):T.has(a)?k--:p.get(s)>p.get(a)?(T.add(s),y(e)):(g.add(a),k--):(i(n,l),k--)}for(;k--;){const e=t[k];v.has(e.key)||i(e,l)}for(;f;)y(m[f-1]);return m}(B,t,A,1,e,n,H,a,O,it,u,ct),t.newTask&&p.value!==e.newTask.client&&v(p,e.newTask.client),t.newTask&&y.value!==e.newTask.task&&v(y,e.newTask.task),t.newTask&&v(_,e.newTask.startTime),t.newTask&&v(D,e.newTask.endTime)},i:t,o:t,d(t){t&&o(n);for(let t=0;t<B.length;t+=1)B[t].d();s(E)}}}function ut(){return{client:"",task:"",startTime:I(),endTime:I(15)}}function dt(t,e,n){let s,a;l(t,st,t=>{n("$tasks",s=t)}),l(t,R,t=>{n("$date",a=t)});let r=ut();function c(){st.set({dateStr:s.dateStr,taskList:[...s.taskList,r]}),n("newTask",r=ut()),document.getElementById("input_client").focus()}return{newTask:r,addTask:c,handleFormKeyUp:function(t){"Enter"===t.key&&c()},delTask:function(t){let e={dateStr:s.dateStr,taskList:[...s.taskList]},n=parseInt(t.target.dataset.id);st.set({dateStr:e.dateStr,taskList:[...e.taskList.slice(0,n),...e.taskList.slice(n+1)]})},$tasks:s,$date:a,input0_input_handler:function(){r.client=this.value,n("newTask",r)},input1_input_handler:function(){r.task=this.value,n("newTask",r)},input2_input_handler:function(){r.startTime=this.value,n("newTask",r)},input3_input_handler:function(){r.endTime=this.value,n("newTask",r)}}}class kt extends j{constructor(t){super(),A(this,t,dt,ot,r,[])}}function ft(t,e,n){const s=Object.create(t);return s.task=e[n],s}function ht(t,e,n){const s=Object.create(t);return s.cat=e[n],s.i=n,s}function $t(t){var e,n,s,a,r,l,u=t.task.task+"",h=q(Y(t.$date,t.task.startTime,t.task.endTime))+"";return{c(){e=d("tr"),n=d("td"),s=k(u),a=f(),r=d("td"),l=k(h),$(n,"class","svelte-53zt01"),$(r,"class","svelte-53zt01"),$(e,"class","svelte-53zt01")},m(t,o){i(t,e,o),c(e,n),c(n,s),c(e,a),c(e,r),c(r,l)},p(t,e){t.$tasksByClient&&u!==(u=e.task.task+"")&&m(s,u),(t.$date||t.$tasksByClient)&&h!==(h=q(Y(e.$date,e.task.startTime,e.task.endTime))+"")&&m(l,h)},d(t){t&&o(e)}}}function mt(t){var e,n,s,a,r,l,v,p,g,T,y,b,w,_,S,x=t.cat.client+"",D=q(t.cat.tasks.reduce(t.func,0))+"";function C(){return t.click_handler(t)}let L=t.cat.tasks,M=[];for(let e=0;e<L.length;e+=1)M[e]=$t(ft(t,L,e));return{c(){e=d("h4"),n=k(x),s=f(),a=d("table"),r=d("tbody"),(l=d("tr")).innerHTML='<th class="svelte-53zt01">Task</th> <th class="svelte-53zt01">Time</th>',v=f();for(let t=0;t<M.length;t+=1)M[t].c();p=f(),g=d("tr"),(T=d("th")).textContent="Total",y=f(),b=d("td"),w=k(D),_=f(),$(e,"tabindex","0"),$(e,"class","svelte-53zt01"),$(l,"class","svelte-53zt01"),$(T,"class","svelte-53zt01"),$(b,"class","svelte-53zt01"),$(g,"class","svelte-53zt01"),$(a,"class","svelte-53zt01"),S=h(e,"click",C)},m(t,o){i(t,e,o),c(e,n),i(t,s,o),i(t,a,o),c(a,r),c(r,l),c(r,v);for(let t=0;t<M.length;t+=1)M[t].m(r,null);c(r,p),c(r,g),c(g,T),c(g,y),c(g,b),c(b,w),c(a,_)},p(e,s){if(t=s,e.$tasksByClient&&x!==(x=t.cat.client+"")&&m(n,x),e.formatDuration||e.calcDuration||e.$date||e.$tasksByClient){let n;for(L=t.cat.tasks,n=0;n<L.length;n+=1){const s=ft(t,L,n);M[n]?M[n].p(e,s):(M[n]=$t(s),M[n].c(),M[n].m(r,p))}for(;n<M.length;n+=1)M[n].d(1);M.length=L.length}(e.$tasksByClient||e.$date)&&D!==(D=q(t.cat.tasks.reduce(t.func,0))+"")&&m(w,D)},d(t){t&&(o(e),o(s),o(a)),u(M,t),S()}}}function vt(e){var n,s,a,r,l,h,v,p,g,T=e.hours>8?e.hours<10?"!":"! GO HOME!":".";let y=e.$tasksByClient,b=[];for(let t=0;t<y.length;t+=1)b[t]=mt(ht(e,y,t));return{c(){n=d("section"),s=d("span"),a=k("You worked "),r=k(e.$formattedTotalDuration),l=k(" today"),h=k(T),v=f(),(p=d("h3")).textContent="Tasks by Client",g=f();for(let t=0;t<b.length;t+=1)b[t].c();$(s,"class","big-span svelte-53zt01"),$(n,"class","main-content svelte-53zt01")},m(t,e){i(t,n,e),c(n,s),c(s,a),c(s,r),c(s,l),c(s,h),c(n,v),c(n,p),c(n,g);for(let t=0;t<b.length;t+=1)b[t].m(n,null)},p(t,e){if(t.$formattedTotalDuration&&m(r,e.$formattedTotalDuration),t.hours&&T!==(T=e.hours>8?e.hours<10?"!":"! GO HOME!":".")&&m(h,T),t.formatDuration||t.$tasksByClient||t.calcDuration||t.$date){let s;for(y=e.$tasksByClient,s=0;s<y.length;s+=1){const a=ht(e,y,s);b[s]?b[s].p(t,a):(b[s]=mt(a),b[s].c(),b[s].m(n,null))}for(;s<b.length;s+=1)b[s].d(1);b.length=y.length}},i:t,o:t,d(t){t&&o(n),u(b,t)}}}function pt(t,e,n){let s,a,r,c,i;function o(t){let e=t.reduce((t,e,n,s)=>t+`${e.task} (${function(t){return(t/1e3/60/60).toFixed(2)}(Y(a,e.startTime,e.endTime))}) ${n<s.length-1?"// ":""}`,`${r} - `);console.log(e);const n=document.createElement("input");n.id="clipboard",n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),n.remove()}l(t,rt,t=>{n("$totalDuration",s=t)}),l(t,R,t=>{n("$date",a=t)}),l(t,X,t=>{n("$dateString",r=t)}),l(t,lt,t=>{n("$formattedTotalDuration",c=t)}),l(t,at,t=>{n("$tasksByClient",i=t)});let u;return t.$$.update=((t={$totalDuration:1})=>{t.$totalDuration&&n("hours",u=s/1e3/60/60)}),{copyTasks:o,hours:u,$date:a,$formattedTotalDuration:c,$tasksByClient:i,click_handler:({cat:t})=>o(t.tasks),func:(t,e)=>t+Y(a,e.startTime,e.endTime)}}class gt extends j{constructor(t){super(),A(this,t,pt,vt,r,[])}}function Tt(t){var e,n,a,r,l,u,v,p,g,T,y,b,w,_,S,x,D,C=new kt({}),L=new gt({});return{c(){e=d("header"),(n=d("h1")).textContent="Task Tracker",a=f(),r=d("div"),(l=d("button")).textContent="â¬…",u=f(),v=d("h2"),p=k(t.$wkDateString),g=f(),(T=d("button")).textContent="âž¡",y=f(),(b=d("button")).textContent="Clear Tasks",w=f(),_=d("main"),C.$$.fragment.c(),S=f(),L.$$.fragment.c(),$(n,"class","svelte-1r7sb1i"),$(l,"class","svelte-1r7sb1i"),$(v,"class","svelte-1r7sb1i"),$(T,"class","svelte-1r7sb1i"),$(r,"class","date-container svelte-1r7sb1i"),$(b,"class","btn_clear-task svelte-1r7sb1i"),$(e,"class","svelte-1r7sb1i"),D=[h(l,"click",t.click_handler),h(T,"click",t.click_handler_1),h(b,"click",yt)]},m(t,s){i(t,e,s),c(e,n),c(e,a),c(e,r),c(r,l),c(r,u),c(r,v),c(v,p),c(r,g),c(r,T),c(e,y),c(e,b),i(t,w,s),i(t,_,s),B(C,_,null),c(_,S),B(L,_,null),x=!0},p(t,e){x&&!t.$wkDateString||m(p,e.$wkDateString)},i(t){x||(z(C.$$.fragment,t),z(L.$$.fragment,t),x=!0)},o(t){E(C.$$.fragment,t),E(L.$$.fragment,t),x=!1},d(t){t&&(o(e),o(w),o(_)),H(C),H(L),s(D)}}}function yt(){st.set(et)}function bt(t,e,n){let s,a,r;l(t,tt,t=>{n("$storageString",s=t)}),l(t,st,t=>{n("$tasks",a=t)}),l(t,Z,t=>{n("$wkDateString",r=t)});const c=864e5;function i(t){R.update(e=>new Date(e.getTime()+t*c))}return t.$$.update=((t={$storageString:1,$tasks:1})=>{t.$storageString&&st.set(nt(s)),(t.$tasks||t.$storageString)&&a.dateStr===s&&localStorage.setItem(s,JSON.stringify(a))}),{changeDate:i,$wkDateString:r,click_handler:()=>i(-1),click_handler_1:()=>i(1)}}return new class extends j{constructor(t){super(),A(this,t,bt,Tt,r,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
