var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function a(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function i(t,e,n){t.$$.on_destroy.push(l(e,n))}function c(t,e){t.appendChild(e)}function o(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){(null!=e||t.value)&&(t.value=e)}let g;function T(t){g=t}const y=[],b=[],w=[],_=[],S=Promise.resolve();let x=!1;function D(t){w.push(t)}function C(){const t=new Set;do{for(;y.length;){const t=y.shift();T(t),L(t.$$)}for(;b.length;)b.pop()();for(let e=0;e<w.length;e+=1){const n=w[e];t.has(n)||(n(),t.add(n))}w.length=0}while(y.length);for(;_.length;)_.pop()();x=!1}function L(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(D))}const M=new Set;let z;function E(t,e){t&&t.i&&(M.delete(t),t.i(e))}function O(t,e,n,s){if(t&&t.o){if(M.has(t))return;M.add(t),z.c.push(()=>{M.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function B(t,e){t.d(1),e.delete(t.key)}function H(t,n,r){const{fragment:l,on_mount:i,on_destroy:c,after_update:o}=t.$$;l.m(n,r),D(()=>{const n=i.map(e).filter(a);c?c.push(...n):s(n),t.$$.on_mount=[]}),o.forEach(D)}function F(t,e){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function A(t,e){t.$$.dirty||(y.push(t),x||(x=!0,S.then(C)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function j(e,a,r,l,i,c){const o=g;T(e);const u=a.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:[]),callbacks:n(),dirty:null};let k=!1;var f;d.ctx=r?r(e,u,(t,n,s=n)=>(d.ctx&&i(d.ctx[t],d.ctx[t]=s)&&(d.bound[t]&&d.bound[t](s),k&&A(e,t)),n)):u,d.update(),k=!0,s(d.before_update),d.fragment=l(d.ctx),a.target&&(a.hydrate?d.fragment.l((f=a.target,Array.from(f.childNodes))):d.fragment.c(),a.intro&&E(e.$$.fragment),H(e,a.target,a.anchor),C()),T(o)}class K{$destroy(){F(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const N=[];function U(e,n=t){let s;const a=[];function l(t){if(r(e,t)&&(e=t,s)){const t=!N.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),N.push(n,e)}if(t){for(let t=0;t<N.length;t+=2)N[t][0](N[t+1]);N.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(r,i=t){const c=[r,i];return a.push(c),1===a.length&&(s=n(l)||t),r(e),()=>{const t=a.indexOf(c);-1!==t&&a.splice(t,1),0===a.length&&(s(),s=null)}}}}function I(e,n,r){const l=!Array.isArray(e),i=l?[e]:e,c=n.length<2;return{subscribe:U(r,e=>{let r=!1;const o=[];let u=0,d=t;const k=()=>{if(u)return;d();const s=n(l?o[0]:o,e);c?e(s):d=a(s)?s:t},f=i.map((t,e)=>t.subscribe(t=>{o[e]=t,u&=~(1<<e),r&&k()},()=>{u|=1<<e}));return r=!0,k(),function(){s(f),d()}}).subscribe}}function G(t){let e=new Date(Date.now()),n=e.getHours(),s=e.getMinutes();return t&&(n+=s+t>60?Math.floor((s+t)/60):0,s=s+t>60?(t+s)%60:t+s),`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}function J(t,e){return new Date(t.getYear()+" "+t.getMonth()+" "+t.getDate()+" "+e)}function Y(t,e){let n=J(t,e);return`${n.getHours()<=12?n.getHours():n.getHours()-12}:${n.getMinutes().toString().padStart(2,"0")} ${n.getHours()<12?"am":"pm"}`}function q(t,e,n){let s=J(t,e),a=J(t,n)-s;return a>0?a:a+864e5}function P(t){return`${Math.floor(t/1e3/60/60)}h ${t/1e3/60%60}m`}const W=(t,e,n)=>P(q(t,e,n)),Q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const R=U(new Date(Date.now())),V=I(R,t=>Q[t.getDay()]),X=I(R,t=>`${t.getMonth()+1}/${t.getDate()}`),Z=I([V,X],([t,e])=>t+" "+e),tt=I(R,t=>`task-tracker-${t.getMonth()+1}-${t.getDate()}`),et=t=>({dateStr:t,taskList:[{client:"eko",task:"Make a spreadsheet",startTime:"13:04",endTime:"13:34"}]}),nt=t=>JSON.parse(localStorage.getItem(t))||et(t),st=U(nt(function(t){let e;return l(t,t=>e=t)(),e}(tt))),at=I(st,t=>t.taskList.reduce((t,e,n)=>{let s=t.map(t=>t.client.toLowerCase().trim()).indexOf(e.client.toLowerCase().trim());return s>=0?(t[s].tasks.push({task:e.task,startTime:e.startTime,endTime:e.endTime}),t):[...t,{client:e.client,tasks:[{task:e.task,startTime:e.startTime,endTime:e.endTime}]}]},[])),rt=I([R,at],([t,e])=>e.reduce((e,n)=>e+n.tasks.reduce((e,n)=>e+q(t,n.startTime,n.endTime),0),0)),lt=I(rt,t=>P(t));function it(t,e,n){const s=Object.create(t);return s.task=e[n],s.i=n,s}function ct(t,e){var n,s,a,r,l,i,d,v,g,T,y,b,w,_,S,x,D,C,L,M,z=e.task.client+"",E=e.task.task+"",O=Y(e.$date,e.task.startTime)+"",B=Y(e.$date,e.task.endTime)+"",H=W(e.$date,e.task.startTime,e.task.endTime)+"";return{key:t,first:null,c(){n=k("tr"),s=k("td"),a=f(z),r=h(),l=k("td"),i=f(E),d=h(),v=k("td"),g=f(O),T=h(),y=k("td"),b=f(B),w=h(),_=k("td"),S=f(H),x=h(),D=k("button"),C=f("ðŸ—‘"),m(s,"class","svelte-622kvv"),m(l,"class","svelte-622kvv"),m(v,"class","c svelte-622kvv"),m(y,"class","c svelte-622kvv"),m(_,"class","c svelte-622kvv"),m(D,"class","btn_del svelte-622kvv"),m(D,"data-id",L=e.i),m(n,"class","svelte-622kvv"),M=$(D,"click",e.delTask),this.first=n},m(t,e){o(t,n,e),c(n,s),c(s,a),c(n,r),c(n,l),c(l,i),c(n,d),c(n,v),c(v,g),c(n,T),c(n,y),c(y,b),c(n,w),c(n,_),c(_,S),c(n,x),c(n,D),c(D,C)},p(t,e){t.$tasks&&z!==(z=e.task.client+"")&&p(a,z),t.$tasks&&E!==(E=e.task.task+"")&&p(i,E),(t.$date||t.$tasks)&&O!==(O=Y(e.$date,e.task.startTime)+"")&&p(g,O),(t.$date||t.$tasks)&&B!==(B=Y(e.$date,e.task.endTime)+"")&&p(b,B),(t.$date||t.$tasks)&&H!==(H=W(e.$date,e.task.startTime,e.task.endTime)+"")&&p(S,H),t.$tasks&&L!==(L=e.i)&&m(D,"data-id",L)},d(t){t&&u(n),M()}}}function ot(e){var n,a,r,l,i,d,f,p,g,T,y,b,w,_,S,x,D,C,L,M,z,O=[],H=new Map;let F=e.$tasks.taskList;const A=t=>t.task.task+t.task.startTime;for(let t=0;t<F.length;t+=1){let n=it(e,F,t),s=A(n);H.set(s,O[t]=ct(s,n))}return{c(){n=k("table"),a=k("tbody"),(r=k("tr")).innerHTML='<th class="l svelte-622kvv">Client</th> <th class="l svelte-622kvv">Task</th> <th class="svelte-622kvv">Start</th> <th class="svelte-622kvv">End</th> <th class="svelte-622kvv">Duration</th>',l=h();for(let t=0;t<O.length;t+=1)O[t].c();i=h(),d=k("tr"),f=k("td"),p=k("input"),g=h(),T=k("td"),y=k("input"),b=h(),w=k("td"),_=k("input"),S=h(),x=k("td"),D=k("input"),C=h(),L=k("td"),(M=k("button")).textContent="Add Task",m(p,"id","input_client"),m(p,"type","text"),m(p,"placeholder","Client, LLC"),m(p,"class","svelte-622kvv"),m(f,"class","svelte-622kvv"),m(y,"class","input_task-name svelte-622kvv"),m(y,"type","text"),m(y,"placeholder","Enter a new task"),m(T,"class","svelte-622kvv"),m(_,"type","time"),m(_,"class","svelte-622kvv"),m(w,"class","c svelte-622kvv"),m(D,"type","time"),m(D,"class","svelte-622kvv"),m(x,"class","c svelte-622kvv"),m(M,"class","btn_add svelte-622kvv"),m(L,"class","c svelte-622kvv"),m(d,"class","svelte-622kvv"),m(n,"class","svelte-622kvv"),z=[$(p,"input",e.input0_input_handler),$(p,"keyup",e.handleFormKeyUp),$(y,"input",e.input1_input_handler),$(y,"keyup",e.handleFormKeyUp),$(_,"input",e.input2_input_handler),$(_,"keyup",e.handleFormKeyUp),$(D,"input",e.input3_input_handler),$(D,"keyup",e.handleFormKeyUp),$(M,"click",e.addTask)]},m(t,s){o(t,n,s),c(n,a),c(a,r),c(a,l);for(let t=0;t<O.length;t+=1)O[t].m(a,null);c(a,i),c(a,d),c(d,f),c(f,p),v(p,e.newTask.client),c(d,g),c(d,T),c(T,y),v(y,e.newTask.task),c(d,b),c(d,w),c(w,_),v(_,e.newTask.startTime),c(d,S),c(d,x),c(x,D),v(D,e.newTask.endTime),c(d,C),c(d,L),c(L,M)},p(t,e){const n=e.$tasks.taskList;O=function(t,e,n,s,a,r,l,i,c,o,u,d){let k=t.length,f=r.length,h=k;const $={};for(;h--;)$[t[h].key]=h;const m=[],p=new Map,v=new Map;for(h=f;h--;){const t=d(a,r,h),i=n(t);let c=l.get(i);c?s&&c.p(e,t):(c=o(i,t)).c(),p.set(i,m[h]=c),i in $&&v.set(i,Math.abs(h-$[i]))}const g=new Set,T=new Set;function y(t){E(t,1),t.m(i,u),l.set(t.key,t),u=t.first,f--}for(;k&&f;){const e=m[f-1],n=t[k-1],s=e.key,a=n.key;e===n?(u=e.first,k--,f--):p.has(a)?!l.has(s)||g.has(s)?y(e):T.has(a)?k--:v.get(s)>v.get(a)?(T.add(s),y(e)):(g.add(a),k--):(c(n,l),k--)}for(;k--;){const e=t[k];p.has(e.key)||c(e,l)}for(;f;)y(m[f-1]);return m}(O,t,A,1,e,n,H,a,B,ct,i,it),t.newTask&&p.value!==e.newTask.client&&v(p,e.newTask.client),t.newTask&&y.value!==e.newTask.task&&v(y,e.newTask.task),t.newTask&&v(_,e.newTask.startTime),t.newTask&&v(D,e.newTask.endTime)},i:t,o:t,d(t){t&&u(n);for(let t=0;t<O.length;t+=1)O[t].d();s(z)}}}function ut(){return{client:"",task:"",startTime:G(),endTime:G(15)}}function dt(t,e,n){let s,a;i(t,st,t=>{n("$tasks",s=t)}),i(t,R,t=>{n("$date",a=t)});let r=ut();function l(){st.set({dateStr:s.dateStr,taskList:[...s.taskList,r]}),n("newTask",r=ut()),document.getElementById("input_client").focus()}return{newTask:r,addTask:l,handleFormKeyUp:function(t){"Enter"===t.key&&l()},delTask:function(t){let e={dateStr:s.dateStr,taskList:[...s.taskList]},n=parseInt(t.target.dataset.id);st.set({dateStr:e.dateStr,taskList:[...e.taskList.slice(0,n),...e.taskList.slice(n+1)]})},$tasks:s,$date:a,input0_input_handler:function(){r.client=this.value,n("newTask",r)},input1_input_handler:function(){r.task=this.value,n("newTask",r)},input2_input_handler:function(){r.startTime=this.value,n("newTask",r)},input3_input_handler:function(){r.endTime=this.value,n("newTask",r)}}}class kt extends K{constructor(t){super(),j(this,t,dt,ot,r,[])}}function ft(t,e,n){const s=Object.create(t);return s.task=e[n],s}function ht(t,e,n){const s=Object.create(t);return s.cat=e[n],s.i=n,s}function $t(t){var e,n,s,a,r,l,i=t.task.task+"",d=P(q(t.$date,t.task.startTime,t.task.endTime))+"";return{c(){e=k("tr"),n=k("td"),s=f(i),a=h(),r=k("td"),l=f(d),m(n,"class","svelte-53zt01"),m(r,"class","svelte-53zt01"),m(e,"class","svelte-53zt01")},m(t,i){o(t,e,i),c(e,n),c(n,s),c(e,a),c(e,r),c(r,l)},p(t,e){t.$tasksByClient&&i!==(i=e.task.task+"")&&p(s,i),(t.$date||t.$tasksByClient)&&d!==(d=P(q(e.$date,e.task.startTime,e.task.endTime))+"")&&p(l,d)},d(t){t&&u(e)}}}function mt(t){var e,n,s,a,r,l,i,v,g,T,y,b,w,_,S,x=t.cat.client+"",D=P(t.cat.tasks.reduce(t.func,0))+"";function C(){return t.click_handler(t)}let L=t.cat.tasks,M=[];for(let e=0;e<L.length;e+=1)M[e]=$t(ft(t,L,e));return{c(){e=k("h4"),n=f(x),s=h(),a=k("table"),r=k("tbody"),(l=k("tr")).innerHTML='<th class="svelte-53zt01">Task</th> <th class="svelte-53zt01">Time</th>',i=h();for(let t=0;t<M.length;t+=1)M[t].c();v=h(),g=k("tr"),(T=k("th")).textContent="Total",y=h(),b=k("td"),w=f(D),_=h(),m(e,"tabindex","0"),m(e,"class","svelte-53zt01"),m(l,"class","svelte-53zt01"),m(T,"class","svelte-53zt01"),m(b,"class","svelte-53zt01"),m(g,"class","svelte-53zt01"),m(a,"class","svelte-53zt01"),S=$(e,"click",C)},m(t,u){o(t,e,u),c(e,n),o(t,s,u),o(t,a,u),c(a,r),c(r,l),c(r,i);for(let t=0;t<M.length;t+=1)M[t].m(r,null);c(r,v),c(r,g),c(g,T),c(g,y),c(g,b),c(b,w),c(a,_)},p(e,s){if(t=s,e.$tasksByClient&&x!==(x=t.cat.client+"")&&p(n,x),e.formatDuration||e.calcDuration||e.$date||e.$tasksByClient){let n;for(L=t.cat.tasks,n=0;n<L.length;n+=1){const s=ft(t,L,n);M[n]?M[n].p(e,s):(M[n]=$t(s),M[n].c(),M[n].m(r,v))}for(;n<M.length;n+=1)M[n].d(1);M.length=L.length}(e.$tasksByClient||e.$date)&&D!==(D=P(t.cat.tasks.reduce(t.func,0))+"")&&p(w,D)},d(t){t&&(u(e),u(s),u(a)),d(M,t),S()}}}function pt(e){var n,s,a,r,l,i,$,v,g,T=e.hours>8?e.hours<10?"!":"! GO HOME!":".";let y=e.$tasksByClient,b=[];for(let t=0;t<y.length;t+=1)b[t]=mt(ht(e,y,t));return{c(){n=k("section"),s=k("span"),a=f("You worked "),r=f(e.$formattedTotalDuration),l=f(" today"),i=f(T),$=h(),(v=k("h3")).textContent="Tasks by Client",g=h();for(let t=0;t<b.length;t+=1)b[t].c();m(s,"class","big-span svelte-53zt01"),m(n,"class","main-content svelte-53zt01")},m(t,e){o(t,n,e),c(n,s),c(s,a),c(s,r),c(s,l),c(s,i),c(n,$),c(n,v),c(n,g);for(let t=0;t<b.length;t+=1)b[t].m(n,null)},p(t,e){if(t.$formattedTotalDuration&&p(r,e.$formattedTotalDuration),t.hours&&T!==(T=e.hours>8?e.hours<10?"!":"! GO HOME!":".")&&p(i,T),t.formatDuration||t.$tasksByClient||t.calcDuration||t.$date){let s;for(y=e.$tasksByClient,s=0;s<y.length;s+=1){const a=ht(e,y,s);b[s]?b[s].p(t,a):(b[s]=mt(a),b[s].c(),b[s].m(n,null))}for(;s<b.length;s+=1)b[s].d(1);b.length=y.length}},i:t,o:t,d(t){t&&u(n),d(b,t)}}}function vt(t,e,n){let s,a,r,l,c;function o(t){let e=t.reduce((t,e,n,s)=>t+`${e.task} (${function(t){return(t/1e3/60/60).toFixed(2)}(q(a,e.startTime,e.endTime))}) ${n<s.length-1?"// ":""}`,`${r} - `);console.log(e);const n=document.createElement("input");n.id="clipboard",n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),n.remove()}i(t,rt,t=>{n("$totalDuration",s=t)}),i(t,R,t=>{n("$date",a=t)}),i(t,X,t=>{n("$dateString",r=t)}),i(t,lt,t=>{n("$formattedTotalDuration",l=t)}),i(t,at,t=>{n("$tasksByClient",c=t)});let u;return t.$$.update=((t={$totalDuration:1})=>{t.$totalDuration&&n("hours",u=s/1e3/60/60)}),{copyTasks:o,hours:u,$date:a,$formattedTotalDuration:l,$tasksByClient:c,click_handler:({cat:t})=>o(t.tasks),func:(t,e)=>t+q(a,e.startTime,e.endTime)}}class gt extends K{constructor(t){super(),j(this,t,vt,pt,r,[])}}function Tt(t){var e,n,a,r,l,i,d,v,g,T,y,b,w,_,S,x,D,C=new kt({}),L=new gt({});return{c(){e=k("header"),(n=k("h1")).textContent="Task Tracker",a=h(),r=k("div"),(l=k("button")).textContent="â¬…",i=h(),d=k("h2"),v=f(t.$wkDateString),g=h(),(T=k("button")).textContent="âž¡",y=h(),(b=k("button")).textContent="Clear Tasks",w=h(),_=k("main"),C.$$.fragment.c(),S=h(),L.$$.fragment.c(),m(n,"class","svelte-1r7sb1i"),m(l,"class","svelte-1r7sb1i"),m(d,"class","svelte-1r7sb1i"),m(T,"class","svelte-1r7sb1i"),m(r,"class","date-container svelte-1r7sb1i"),m(b,"class","btn_clear-task svelte-1r7sb1i"),m(e,"class","svelte-1r7sb1i"),D=[$(l,"click",t.click_handler),$(T,"click",t.click_handler_1),$(b,"click",yt)]},m(t,s){o(t,e,s),c(e,n),c(e,a),c(e,r),c(r,l),c(r,i),c(r,d),c(d,v),c(r,g),c(r,T),c(e,y),c(e,b),o(t,w,s),o(t,_,s),H(C,_,null),c(_,S),H(L,_,null),x=!0},p(t,e){x&&!t.$wkDateString||p(v,e.$wkDateString)},i(t){x||(E(C.$$.fragment,t),E(L.$$.fragment,t),x=!0)},o(t){O(C.$$.fragment,t),O(L.$$.fragment,t),x=!1},d(t){t&&(u(e),u(w),u(_)),F(C),F(L),s(D)}}}function yt(){st.set(et)}function bt(t,e,n){let s,a,r;i(t,tt,t=>{n("$storageString",s=t)}),i(t,st,t=>{n("$tasks",a=t)}),i(t,Z,t=>{n("$wkDateString",r=t)});const l=864e5;function c(t){R.update(e=>new Date(e.getTime()+t*l))}return t.$$.update=((t={$storageString:1,$tasks:1})=>{t.$storageString&&st.set(nt(s)),(t.$tasks||t.$storageString)&&a.dateStr===s&&localStorage.setItem(s,JSON.stringify(a))}),{changeDate:c,$wkDateString:r,click_handler:()=>c(-1),click_handler_1:()=>c(1)}}return new class extends K{constructor(t){super(),j(this,t,bt,Tt,r,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
