var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function a(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function c(t,e,n){t.$$.on_destroy.push(l(e,n))}function i(t,e){t.appendChild(e)}function o(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function v(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function p(t,e){(null!=e||t.value)&&(t.value=e)}let g;function T(t){g=t}const b=[],y=[],w=[],_=[],x=Promise.resolve();let S=!1;function D(t){w.push(t)}function C(){const t=new Set;do{for(;b.length;){const t=b.shift();T(t),L(t.$$)}for(;y.length;)y.pop()();for(let e=0;e<w.length;e+=1){const n=w[e];t.has(n)||(n(),t.add(n))}w.length=0}while(b.length);for(;_.length;)_.pop()();S=!1}function L(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(D))}const M=new Set;let E;function O(t,e){t&&t.i&&(M.delete(t),t.i(e))}function B(t,e,n,s){if(t&&t.o){if(M.has(t))return;M.add(t),E.c.push(()=>{M.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function H(t,e){t.d(1),e.delete(t.key)}function F(t,n,r){const{fragment:l,on_mount:c,on_destroy:i,after_update:o}=t.$$;l.m(n,r),D(()=>{const n=c.map(e).filter(a);i?i.push(...n):s(n),t.$$.on_mount=[]}),o.forEach(D)}function A(t,e){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function j(t,e){t.$$.dirty||(b.push(t),S||(S=!0,x.then(C)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function K(e,a,r,l,c,i){const o=g;T(e);const u=a.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:[]),callbacks:n(),dirty:null};let k=!1;var f;d.ctx=r?r(e,u,(t,n,s=n)=>(d.ctx&&c(d.ctx[t],d.ctx[t]=s)&&(d.bound[t]&&d.bound[t](s),k&&j(e,t)),n)):u,d.update(),k=!0,s(d.before_update),d.fragment=l(d.ctx),a.target&&(a.hydrate?d.fragment.l((f=a.target,Array.from(f.childNodes))):d.fragment.c(),a.intro&&O(e.$$.fragment),F(e,a.target,a.anchor),C()),T(o)}class N{$destroy(){A(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const U=[];function I(e,n=t){let s;const a=[];function l(t){if(r(e,t)&&(e=t,s)){const t=!U.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),U.push(n,e)}if(t){for(let t=0;t<U.length;t+=2)U[t][0](U[t+1]);U.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(r,c=t){const i=[r,c];return a.push(i),1===a.length&&(s=n(l)||t),r(e),()=>{const t=a.indexOf(i);-1!==t&&a.splice(t,1),0===a.length&&(s(),s=null)}}}}function G(e,n,r){const l=!Array.isArray(e),c=l?[e]:e,i=n.length<2;return{subscribe:I(r,e=>{let r=!1;const o=[];let u=0,d=t;const k=()=>{if(u)return;d();const s=n(l?o[0]:o,e);i?e(s):d=a(s)?s:t},f=c.map((t,e)=>t.subscribe(t=>{o[e]=t,u&=~(1<<e),r&&k()},()=>{u|=1<<e}));return r=!0,k(),function(){s(f),d()}}).subscribe}}function J(t){let e=new Date(Date.now()),n=e.getHours(),s=e.getMinutes();return t&&(n+=s+t>60?Math.floor((s+t)/60):0,s=s+t>60?(t+s)%60:t+s),`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}function Y(t,e){return new Date(t.getYear()+" "+t.getMonth()+" "+t.getDate()+" "+e)}function q(t,e){let n=Y(t,e);return`${n.getHours()<=12?n.getHours():n.getHours()-12}:${n.getMinutes().toString().padStart(2,"0")} ${n.getHours()<12?"am":"pm"}`}function P(t,e,n){let s=Y(t,e),a=Y(t,n)-s;return a>0?a:a+864e5}function W(t){return`${Math.floor(t/1e3/60/60)}h ${t/1e3/60%60}m`}const z=(t,e,n)=>W(P(t,e,n)),Q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const R=I(new Date(Date.now())),V=G(R,t=>Q[t.getDay()]),X=G(R,t=>`${t.getMonth()+1}/${t.getDate()}`),Z=G([V,X],([t,e])=>t+" "+e),tt=G(R,t=>`task-tracker-${t.getMonth()+1}-${t.getDate()}`),et=t=>({dateStr:t,taskList:[{client:"eko",task:"Make a spreadsheet",startTime:"13:04",endTime:"13:34"}]}),nt=t=>JSON.parse(localStorage.getItem(t))||et(t),st=I(nt(function(t){let e;return l(t,t=>e=t)(),e}(tt))),at=G(st,t=>t.taskList.reduce((t,e,n)=>{let s=t.map(t=>t.client.toLowerCase().trim()).indexOf(e.client.toLowerCase().trim());return s>=0?(t[s].tasks.push({task:e.task,startTime:e.startTime,endTime:e.endTime}),t):[...t,{client:e.client,tasks:[{task:e.task,startTime:e.startTime,endTime:e.endTime}]}]},[])),rt=G([R,at],([t,e])=>e.reduce((e,n)=>e+n.tasks.reduce((e,n)=>e+P(t,n.startTime,n.endTime),0),0)),lt=G(rt,t=>W(t));function ct(t,e,n){const s=Object.create(t);return s.task=e[n],s.i=n,s}function it(t,e){var n,s,a,r,l,c,d,p,g,T,b,y,w,_,x,S,D,C,L,M,E=e.task.client+"",O=e.task.task+"",B=q(e.$date,e.task.startTime)+"",H=q(e.$date,e.task.endTime)+"",F=z(e.$date,e.task.startTime,e.task.endTime)+"";return{key:t,first:null,c(){n=k("tr"),s=k("td"),a=f(E),r=h(),l=k("td"),c=f(O),d=h(),p=k("td"),g=f(B),T=h(),b=k("td"),y=f(H),w=h(),_=k("td"),x=f(F),S=h(),D=k("button"),C=f("ðŸ—‘"),v(s,"class","svelte-622kvv"),v(l,"class","svelte-622kvv"),v(p,"class","c svelte-622kvv"),v(b,"class","c svelte-622kvv"),v(_,"class","c svelte-622kvv"),v(D,"class","btn_del svelte-622kvv"),v(D,"data-id",L=e.i),v(n,"class","svelte-622kvv"),M=$(D,"click",e.delTask),this.first=n},m(t,e){o(t,n,e),i(n,s),i(s,a),i(n,r),i(n,l),i(l,c),i(n,d),i(n,p),i(p,g),i(n,T),i(n,b),i(b,y),i(n,w),i(n,_),i(_,x),i(n,S),i(n,D),i(D,C)},p(t,e){t.$tasks&&E!==(E=e.task.client+"")&&m(a,E),t.$tasks&&O!==(O=e.task.task+"")&&m(c,O),(t.$date||t.$tasks)&&B!==(B=q(e.$date,e.task.startTime)+"")&&m(g,B),(t.$date||t.$tasks)&&H!==(H=q(e.$date,e.task.endTime)+"")&&m(y,H),(t.$date||t.$tasks)&&F!==(F=z(e.$date,e.task.startTime,e.task.endTime)+"")&&m(x,F),t.$tasks&&L!==(L=e.i)&&v(D,"data-id",L)},d(t){t&&u(n),M()}}}function ot(e){var n,a,r,l,c,d,f,m,g,T,b,y,w,_,x,S,D,C,L,M,E,B=[],F=new Map;let A=e.$tasks.taskList;const j=t=>t.task.task+t.task.startTime;for(let t=0;t<A.length;t+=1){let n=ct(e,A,t),s=j(n);F.set(s,B[t]=it(s,n))}return{c(){n=k("table"),a=k("tbody"),(r=k("tr")).innerHTML='<th class="l svelte-622kvv">Client</th> <th class="l svelte-622kvv">Task</th> <th class="svelte-622kvv">Start</th> <th class="svelte-622kvv">End</th> <th class="svelte-622kvv">Duration</th>',l=h();for(let t=0;t<B.length;t+=1)B[t].c();c=h(),d=k("tr"),f=k("td"),m=k("input"),g=h(),T=k("td"),b=k("input"),y=h(),w=k("td"),_=k("input"),x=h(),S=k("td"),D=k("input"),C=h(),L=k("td"),(M=k("button")).textContent="Add Task",v(m,"id","input_client"),v(m,"type","text"),v(m,"placeholder","Client, LLC"),v(m,"class","svelte-622kvv"),v(f,"class","svelte-622kvv"),v(b,"class","input_task-name svelte-622kvv"),v(b,"type","text"),v(b,"placeholder","Enter a new task"),v(T,"class","svelte-622kvv"),v(_,"type","time"),v(_,"class","svelte-622kvv"),v(w,"class","c svelte-622kvv"),v(D,"type","time"),v(D,"class","svelte-622kvv"),v(S,"class","c svelte-622kvv"),v(M,"class","btn_add svelte-622kvv"),v(L,"class","c svelte-622kvv"),v(d,"class","svelte-622kvv"),v(n,"class","svelte-622kvv"),E=[$(m,"input",e.input0_input_handler),$(m,"keyup",e.handleFormKeyUp),$(b,"input",e.input1_input_handler),$(b,"keyup",e.handleFormKeyUp),$(_,"input",e.input2_input_handler),$(_,"keyup",e.handleFormKeyUp),$(D,"input",e.input3_input_handler),$(D,"keyup",e.handleFormKeyUp),$(M,"click",e.addTask)]},m(t,s){o(t,n,s),i(n,a),i(a,r),i(a,l);for(let t=0;t<B.length;t+=1)B[t].m(a,null);i(a,c),i(a,d),i(d,f),i(f,m),p(m,e.newTask.client),i(d,g),i(d,T),i(T,b),p(b,e.newTask.task),i(d,y),i(d,w),i(w,_),p(_,e.newTask.startTime),i(d,x),i(d,S),i(S,D),p(D,e.newTask.endTime),i(d,C),i(d,L),i(L,M)},p(t,e){const n=e.$tasks.taskList;B=function(t,e,n,s,a,r,l,c,i,o,u,d){let k=t.length,f=r.length,h=k;const $={};for(;h--;)$[t[h].key]=h;const v=[],m=new Map,p=new Map;for(h=f;h--;){const t=d(a,r,h),c=n(t);let i=l.get(c);i?s&&i.p(e,t):(i=o(c,t)).c(),m.set(c,v[h]=i),c in $&&p.set(c,Math.abs(h-$[c]))}const g=new Set,T=new Set;function b(t){O(t,1),t.m(c,u),l.set(t.key,t),u=t.first,f--}for(;k&&f;){const e=v[f-1],n=t[k-1],s=e.key,a=n.key;e===n?(u=e.first,k--,f--):m.has(a)?!l.has(s)||g.has(s)?b(e):T.has(a)?k--:p.get(s)>p.get(a)?(T.add(s),b(e)):(g.add(a),k--):(i(n,l),k--)}for(;k--;){const e=t[k];m.has(e.key)||i(e,l)}for(;f;)b(v[f-1]);return v}(B,t,j,1,e,n,F,a,H,it,c,ct),t.newTask&&m.value!==e.newTask.client&&p(m,e.newTask.client),t.newTask&&b.value!==e.newTask.task&&p(b,e.newTask.task),t.newTask&&p(_,e.newTask.startTime),t.newTask&&p(D,e.newTask.endTime)},i:t,o:t,d(t){t&&u(n);for(let t=0;t<B.length;t+=1)B[t].d();s(E)}}}function ut(){return{client:"",task:"",startTime:J(),endTime:J(15)}}function dt(t,e,n){let s,a;c(t,st,t=>{n("$tasks",s=t)}),c(t,R,t=>{n("$date",a=t)});let r=ut();function l(){st.set({dateStr:s.dateStr,taskList:[...s.taskList,r]}),n("newTask",r=ut()),document.getElementById("input_client").focus()}return{newTask:r,addTask:l,handleFormKeyUp:function(t){"Enter"===t.key&&l()},delTask:function(t){let e={dateStr:s.dateStr,taskList:[...s.taskList]},n=parseInt(t.target.dataset.id);st.set({dateStr:e.dateStr,taskList:[...e.taskList.slice(0,n),...e.taskList.slice(n+1)]})},$tasks:s,$date:a,input0_input_handler:function(){r.client=this.value,n("newTask",r)},input1_input_handler:function(){r.task=this.value,n("newTask",r)},input2_input_handler:function(){r.startTime=this.value,n("newTask",r)},input3_input_handler:function(){r.endTime=this.value,n("newTask",r)}}}class kt extends N{constructor(t){super(),K(this,t,dt,ot,r,[])}}function ft(t,e,n){const s=Object.create(t);return s.task=e[n],s}function ht(t,e,n){const s=Object.create(t);return s.cat=e[n],s.i=n,s}function $t(t){var e,n,s,a,r,l,c=t.task.task+"",d=W(P(t.$date,t.task.startTime,t.task.endTime))+"";return{c(){e=k("tr"),n=k("td"),s=f(c),a=h(),r=k("td"),l=f(d),v(n,"class","svelte-vbs5x6"),v(r,"class","svelte-vbs5x6"),v(e,"class","svelte-vbs5x6")},m(t,c){o(t,e,c),i(e,n),i(n,s),i(e,a),i(e,r),i(r,l)},p(t,e){t.$tasksByClient&&c!==(c=e.task.task+"")&&m(s,c),(t.$date||t.$tasksByClient)&&d!==(d=W(P(e.$date,e.task.startTime,e.task.endTime))+"")&&m(l,d)},d(t){t&&u(e)}}}function vt(t){var e,n,s,a,r,l,c,p,g,T,b,y,w,_,x,S=t.cat.client+"",D=W(t.cat.tasks.reduce(t.func,0))+"";function C(){return t.click_handler(t)}let L=t.cat.tasks,M=[];for(let e=0;e<L.length;e+=1)M[e]=$t(ft(t,L,e));return{c(){e=k("h4"),n=f(S),s=h(),a=k("table"),r=k("tbody"),(l=k("tr")).innerHTML='<th class="svelte-vbs5x6">Task</th> <th class="svelte-vbs5x6">Time</th>',c=h();for(let t=0;t<M.length;t+=1)M[t].c();p=h(),g=k("tr"),(T=k("th")).textContent="Total",b=h(),y=k("td"),w=f(D),_=h(),v(e,"tabindex","0"),v(e,"class","svelte-vbs5x6"),v(l,"class","svelte-vbs5x6"),v(T,"class","svelte-vbs5x6"),v(y,"class","svelte-vbs5x6"),v(g,"class","svelte-vbs5x6"),v(a,"class","svelte-vbs5x6"),x=$(e,"click",C)},m(t,u){o(t,e,u),i(e,n),o(t,s,u),o(t,a,u),i(a,r),i(r,l),i(r,c);for(let t=0;t<M.length;t+=1)M[t].m(r,null);i(r,p),i(r,g),i(g,T),i(g,b),i(g,y),i(y,w),i(a,_)},p(e,s){if(t=s,e.$tasksByClient&&S!==(S=t.cat.client+"")&&m(n,S),e.formatDuration||e.calcDuration||e.$date||e.$tasksByClient){let n;for(L=t.cat.tasks,n=0;n<L.length;n+=1){const s=ft(t,L,n);M[n]?M[n].p(e,s):(M[n]=$t(s),M[n].c(),M[n].m(r,p))}for(;n<M.length;n+=1)M[n].d(1);M.length=L.length}(e.$tasksByClient||e.$date)&&D!==(D=W(t.cat.tasks.reduce(t.func,0))+"")&&m(w,D)},d(t){t&&(u(e),u(s),u(a)),d(M,t),x()}}}function mt(e){var n,s,a,r,l,c,$,p,g,T=e.hours>8?e.hours<10?"!":"! GO HOME!":".";let b=e.$tasksByClient,y=[];for(let t=0;t<b.length;t+=1)y[t]=vt(ht(e,b,t));return{c(){n=k("section"),s=k("span"),a=f("You worked "),r=f(e.$formattedTotalDuration),l=f(" today"),c=f(T),$=h(),(p=k("h3")).textContent="Tasks by Client",g=h();for(let t=0;t<y.length;t+=1)y[t].c();v(s,"class","big-span svelte-vbs5x6"),v(n,"class","main-content svelte-vbs5x6")},m(t,e){o(t,n,e),i(n,s),i(s,a),i(s,r),i(s,l),i(s,c),i(n,$),i(n,p),i(n,g);for(let t=0;t<y.length;t+=1)y[t].m(n,null)},p(t,e){if(t.$formattedTotalDuration&&m(r,e.$formattedTotalDuration),t.hours&&T!==(T=e.hours>8?e.hours<10?"!":"! GO HOME!":".")&&m(c,T),t.formatDuration||t.$tasksByClient||t.calcDuration||t.$date){let s;for(b=e.$tasksByClient,s=0;s<b.length;s+=1){const a=ht(e,b,s);y[s]?y[s].p(t,a):(y[s]=vt(a),y[s].c(),y[s].m(n,null))}for(;s<y.length;s+=1)y[s].d(1);y.length=b.length}},i:t,o:t,d(t){t&&u(n),d(y,t)}}}function pt(t,e,n){let s,a,r,l,i;function o(t){let e=t.reduce((t,e,n,s)=>t+`${e.task} (${function(t){return(t/1e3/60/60).toFixed(2)}(P(a,e.startTime,e.endTime))}) ${n<s.length-1?"// ":""}`,`${r} - `);const n=document.createElement("input");n.id="clipboard",n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),n.remove()}c(t,rt,t=>{n("$totalDuration",s=t)}),c(t,R,t=>{n("$date",a=t)}),c(t,X,t=>{n("$dateString",r=t)}),c(t,lt,t=>{n("$formattedTotalDuration",l=t)}),c(t,at,t=>{n("$tasksByClient",i=t)});let u;return t.$$.update=((t={$totalDuration:1})=>{t.$totalDuration&&n("hours",u=s/1e3/60/60)}),{copyTasks:o,hours:u,$date:a,$formattedTotalDuration:l,$tasksByClient:i,click_handler:({cat:t})=>o(t.tasks),func:(t,e)=>t+P(a,e.startTime,e.endTime)}}class gt extends N{constructor(t){super(),K(this,t,pt,mt,r,[])}}function Tt(t){var e,n,a,r,l,c,d,p,g,T,b,y,w,_,x,S,D,C=new kt({}),L=new gt({});return{c(){e=k("header"),(n=k("h1")).textContent="Task Tracker",a=h(),r=k("div"),(l=k("button")).textContent="â¬…",c=h(),d=k("h2"),p=f(t.$wkDateString),g=h(),(T=k("button")).textContent="âž¡",b=h(),(y=k("button")).textContent="Clear Tasks",w=h(),_=k("main"),C.$$.fragment.c(),x=h(),L.$$.fragment.c(),v(n,"class","svelte-1r7sb1i"),v(l,"class","svelte-1r7sb1i"),v(d,"class","svelte-1r7sb1i"),v(T,"class","svelte-1r7sb1i"),v(r,"class","date-container svelte-1r7sb1i"),v(y,"class","btn_clear-task svelte-1r7sb1i"),v(e,"class","svelte-1r7sb1i"),D=[$(l,"click",t.click_handler),$(T,"click",t.click_handler_1),$(y,"click",t.clearTasks)]},m(t,s){o(t,e,s),i(e,n),i(e,a),i(e,r),i(r,l),i(r,c),i(r,d),i(d,p),i(r,g),i(r,T),i(e,b),i(e,y),o(t,w,s),o(t,_,s),F(C,_,null),i(_,x),F(L,_,null),S=!0},p(t,e){S&&!t.$wkDateString||m(p,e.$wkDateString)},i(t){S||(O(C.$$.fragment,t),O(L.$$.fragment,t),S=!0)},o(t){B(C.$$.fragment,t),B(L.$$.fragment,t),S=!1},d(t){t&&(u(e),u(w),u(_)),A(C),A(L),s(D)}}}function bt(t,e,n){let s,a,r;c(t,tt,t=>{n("$storageString",s=t)}),c(t,st,t=>{n("$tasks",a=t)}),c(t,Z,t=>{n("$wkDateString",r=t)});const l=864e5;function i(t){R.update(e=>new Date(e.getTime()+t*l))}return t.$$.update=((t={$storageString:1,$tasks:1})=>{t.$storageString&&st.set(nt(s)),(t.$tasks||t.$storageString)&&a.dateStr===s&&localStorage.setItem(s,JSON.stringify(a))}),{clearTasks:function(){st.set(et(s))},changeDate:i,$wkDateString:r,click_handler:()=>i(-1),click_handler_1:()=>i(1)}}return new class extends N{constructor(t){super(),K(this,t,bt,Tt,r,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
