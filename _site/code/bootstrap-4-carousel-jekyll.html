<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="/css/main.css">
  <title>Jekyll Slideshows Using Bootstrap 4 Carousels</title>
  <meta itemprop="description" name="description" content="Building a slideshow module using a Jekyll include, simple Bootstrap, and simple images. No plugins!" />
</head>

  <body><nav id="navbar" class='navbar navbar-expand-lg sticky-top navbar-light bg-light'>
    <a class="navbar-brand" href="/"><img id='site-icon' src='../assets/img/icon_franknoirot-co.png'></a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
    
    
      
      

      

    
      
      

      

    
      
      

      
      <!-- <li class="nav-item "> -->
        <a class='nav-link ' href="/portfolio/">Portfolio</a>
      <!-- </li> -->
      

    
      
      

      
      <!-- <li class="nav-item "> -->
        <a class='nav-link ' href="/blog/">Blog</a>
      <!-- </li> -->
      

    
      
      

      
      <!-- <li class="nav-item "> -->
        <a class='nav-link ' href="/resume/">Resumé</a>
      <!-- </li> -->
      

    
      
      

      
      <!-- <li class="nav-item "> -->
        <a class='nav-link ' href="/about/">About</a>
      <!-- </li> -->
      

    

    </div>
</nav>
<div id='main-content' class='main-content'>
      <header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">Jekyll Slideshows Using Bootstrap 4 Carousels</h1>
  <p class="post-meta">
    <time class="dt-published" datetime="2018-11-21T00:00:00-05:00" itemprop="datePublished">Nov 21, 2018
    </time></p>
</header>

<p>Today I built a little _include file to create slideshows on my Jekyll site that is dead simple, and more importantly to me, that looks clean and readable in Markdown.</p>

<p>Jekyll’s blogging functionality is wonderful. writing simple Markdown files is so much prettier than HTML pages, and hopefully someday will let me add posts to my static site from my phone’s notepad.</p>

<p>But I have to constantly fight the urge to just elbow in HTML whenever I want something beyond simple text and images, which seems to be every post I write.</p>

<p>So when I went to embed my findings presentation into my portfolio post on my Undergraduate Research Thesis, I challenged myself to embed the slideshow with just one line of an include. Here’s my code in action:</p>

<!--  -->

<style type="text/css" scoped="">
  .carousel-item {
    height: 60vmin;
  }

  
  .slide--1 {
    background: url(/assets/img/osu-crp-thesis-slides/1.jpg);
    background-size: contain;
    background-position: center center;
    background-repeat: no-repeat;
  }
  
  .slide--2 {
    background: url(/assets/img/osu-crp-thesis-slides/2.jpg);
    background-size: contain;
    background-position: center center;
    background-repeat: no-repeat;
  }
  
  .slide--3 {
    background: url(/assets/img/osu-crp-thesis-slides/3.jpg);
    background-size: contain;
    background-position: center center;
    background-repeat: no-repeat;
  }
  
  .slide--4 {
    background: url(/assets/img/osu-crp-thesis-slides/4.jpg);
    background-size: contain;
    background-position: center center;
    background-repeat: no-repeat;
  }
  
  .slide--5 {
    background: url(/assets/img/osu-crp-thesis-slides/5.jpg);
    background-size: contain;
    background-position: center center;
    background-repeat: no-repeat;
  }
  
</style>

<div id="bootstrap-4-carousel-jekyll--slideshow--" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    
    <li data-target="#bootstrap-4-carousel-jekyll--slideshow--" data-slide-to="0" class="active"></li>
    
    <li data-target="#bootstrap-4-carousel-jekyll--slideshow--" data-slide-to="1"></li>
    
    <li data-target="#bootstrap-4-carousel-jekyll--slideshow--" data-slide-to="2"></li>
    
    <li data-target="#bootstrap-4-carousel-jekyll--slideshow--" data-slide-to="3"></li>
    
    <li data-target="#bootstrap-4-carousel-jekyll--slideshow--" data-slide-to="4"></li>
    
  </ol>
  <div class="carousel-inner">
    
    <div class="carousel-item active slide--1">
    </div>
    
    <div class="carousel-item  slide--2">
    </div>
    
    <div class="carousel-item  slide--3">
    </div>
    
    <div class="carousel-item  slide--4">
    </div>
    
    <div class="carousel-item  slide--5">
    </div>
    
  </div>
  <a class="carousel-control-prev" href="#bootstrap-4-carousel-jekyll--slideshow--" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#bootstrap-4-carousel-jekyll--slideshow--" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<hr />
<p>This simple line is the include in my Markdown file:</p>

<p><code class="highlighter-rouge">{% include carousel.html start='1' end='5' %}</code></p>

<p>The secret power of this include file <code class="highlighter-rouge">carousel.html</code> is the YML variables that I’ve tucked into the frontmatter of this Markdown post:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">carousel</span><span class="pi">:</span>
  <span class="na">asset_dir</span><span class="pi">:</span> <span class="s">/assets/img/osu-crp-thesis-slides</span>
  <span class="na">slides</span><span class="pi">:</span> <span class="s">5</span>
  <span class="na">file_type</span><span class="pi">:</span> <span class="s">.jpg</span>
</code></pre></div></div>

<p>Now you can start to infer what <code class="highlighter-rouge">carousel.html</code> is going to do. It will populate a slider with a series of images in the directory assigned to <code class="highlighter-rouge">asset_dir</code>, of which there seem to be <code class="highlighter-rouge">5</code>, and all of them must be <code class="highlighter-rouge">.jpg</code> files.</p>

<p>In the course of building this I learned that the Liquid language that powers Jekyll <a href="https://stackoverflow.com/questions/17446472/how-to-list-files-in-a-directory-with-liquid/31885127">doesn’t have I/O power to read a directory and loop over the contents intelligently</a>. This is why we have to do the dumb thing and explicitly tell Liquid how many slides we’re going to loop over. However, one cool upshot of this manually defined variable is that excerpting a slideshow is easy. For example, the slideshow above isn’t actually 5 slides, but <strong>49!</strong> I limited the number of slides rendered by controlling this variable.</p>

<p>The other side of this system is my directory structure, which is simply naming each file by its slide number, ex. <code class="highlighter-rouge">5.jpg</code>. This will make looping over the images very straightforward, and I still have my images partitioned into different directories so I don’t mind having multiple <code class="highlighter-rouge">1.jpg</code> files across my site.</p>

<p>Now let’s check out <code class="highlighter-rouge">carousel.html</code>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% if page.carousel %}
{% capture slideSlug %}{{ page.slug }}--slideshow{% endcapture %}
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"{{ slideSlug }}"</span> <span class="na">class=</span><span class="s">"carousel slide"</span> <span class="na">data-ride=</span><span class="s">"carousel"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ol</span> <span class="na">class=</span><span class="s">"carousel-indicators"</span><span class="nt">&gt;</span>
    {% assign slides = page.carousel.slides %}
    {% for slide in (1..slides) %}
    <span class="nt">&lt;li</span> <span class="na">data-target=</span><span class="s">"#{{ slideSlug }}"</span> <span class="na">data-slide-to=</span><span class="s">"{{ slide-1 }}"</span> <span class="err">{%</span> <span class="na">if</span> <span class="na">slide =</span><span class="s">=</span> <span class="na">1</span> <span class="err">%}</span><span class="na">class=</span><span class="s">"active"</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span><span class="nt">&gt;&lt;/li&gt;</span>
    {%  endfor %}
  <span class="nt">&lt;/ol&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"carousel-inner"</span><span class="nt">&gt;</span>
    {% for slide in (1..slides) %}
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"carousel-item {% if slide == 1 %}active{% endif %}"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"d-block w-100"</span> <span class="na">src=</span><span class="s">"{{ page.carousel.asset_dir }}/{{ slide }}{{ page.carousel.file_type }}"</span> <span class="na">alt=</span><span class="s">"{{ page.title }} Slideshow: Page {{ forloop.index }}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    {% endfor %}
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"carousel-control-prev"</span> <span class="na">href=</span><span class="s">"#{{ slideSlug }}"</span> <span class="na">role=</span><span class="s">"button"</span> <span class="na">data-slide=</span><span class="s">"prev"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"carousel-control-prev-icon"</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"sr-only"</span><span class="nt">&gt;</span>Previous<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"carousel-control-next"</span> <span class="na">href=</span><span class="s">"#{{ slideSlug }}"</span> <span class="na">role=</span><span class="s">"button"</span> <span class="na">data-slide=</span><span class="s">"next"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"carousel-control-next-icon"</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"sr-only"</span><span class="nt">&gt;</span>Next<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{% endif %}
</code></pre></div></div>

<p>Remember that Jekyll uses HTML peppered with Liquid tags to provide variables and logic. Anywhere you see <code class="highlighter-rouge">{{ foo }}</code> a Liquid variable is being referenced, and <code class="highlighter-rouge">{% bar %}</code> is some Liquid logic, like If statements or For loops.</p>

<p>The other stuff is HTML, specifically <a href="https://getbootstrap.com/docs/4.0/components/carousel/#with-indicators">the Carousel component with controls and indicators from Bootstrap 4</a>. Click the link; I really just lifted this code straight from there and tweaked it!</p>

<p>Here’s what my code does to make carousel abstracted to be used on any page with any images:</p>
<ol>
  <li>Make sure the page asking for a carousel has the <code class="highlighter-rouge">:carousel</code> YML variable defined before we start building broken stuff.</li>
  <li>Name the carousel we’re building by making the id unique by the <code class="highlighter-rouge">page.slug</code> variable</li>
  <li>Loop over the <code class="highlighter-rouge">&lt;li&gt;</code> elements that power the carousel by iterating over the range <code class="highlighter-rouge">(1..page.carousel.slides)</code></li>
  <li>In a new loop for the inner contents of the carousel, iterate over the same range. This time we grab our images by concatenating <code class="highlighter-rouge">page.carousel.asset_dir</code>, <code class="highlighter-rouge">slide</code> (which is an index number), and <code class="highlighter-rouge">page.carousel.file_type</code></li>
</ol>

<p>If you’re using Jekyll and Bootstrap 4 for your website, feel free to use the code above to create your own slideshow pipeline without any external plugins! If you’re an experienced developer, <a href="mailto:frank@franknoirot.co">let me know</a> if I’m doing anything that looks like nails on a chalkboard to you. I’m still learning this web development stuff!</p>


    </div>
    <!-- JS loads faster when placed at the end of the body -->
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  </body>
</html>
